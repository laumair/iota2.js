!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Iota2=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return i(null==t&&n.path)}},n.exports),n.exports}function r(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var o=n((function(t,n){var r,i=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.ClientError=void 0;var o=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.route=n,o.httpStatus=r,o.code=i,o}return i(t,e),t}(Error);n.ClientError=o})),a=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),s=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),u=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),h=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),c=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),l=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),f=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),d=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),_=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),p=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),y=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),v=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),g=r(Object.freeze({__proto__:null,default:{}})),E=n((function(e){!function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),a=t([1]),s=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function _(e,t,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}function p(e,t,n,r){return _(e,t,n,r,16)}function y(e,t,n,r){return _(e,t,n,r,32)}function v(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,_=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,E=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,b=o,I=a,T=s,A=u,m=h,N=c,S=l,U=f,x=d,O=_,M=p,L=y,P=v,k=g,B=E,G=w,H=0;H<20;H+=2)b^=(i=(P^=(i=(x^=(i=(m^=(i=b+P|0)<<7|i>>>25)+b|0)<<9|i>>>23)+m|0)<<13|i>>>19)+x|0)<<18|i>>>14,N^=(i=(I^=(i=(k^=(i=(O^=(i=N+I|0)<<7|i>>>25)+N|0)<<9|i>>>23)+O|0)<<13|i>>>19)+k|0)<<18|i>>>14,M^=(i=(S^=(i=(T^=(i=(B^=(i=M+S|0)<<7|i>>>25)+M|0)<<9|i>>>23)+B|0)<<13|i>>>19)+T|0)<<18|i>>>14,G^=(i=(L^=(i=(U^=(i=(A^=(i=G+L|0)<<7|i>>>25)+G|0)<<9|i>>>23)+A|0)<<13|i>>>19)+U|0)<<18|i>>>14,b^=(i=(A^=(i=(T^=(i=(I^=(i=b+A|0)<<7|i>>>25)+b|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14,N^=(i=(m^=(i=(U^=(i=(S^=(i=N+m|0)<<7|i>>>25)+N|0)<<9|i>>>23)+S|0)<<13|i>>>19)+U|0)<<18|i>>>14,M^=(i=(O^=(i=(x^=(i=(L^=(i=M+O|0)<<7|i>>>25)+M|0)<<9|i>>>23)+L|0)<<13|i>>>19)+x|0)<<18|i>>>14,G^=(i=(B^=(i=(k^=(i=(P^=(i=G+B|0)<<7|i>>>25)+G|0)<<9|i>>>23)+P|0)<<13|i>>>19)+k|0)<<18|i>>>14;b=b+o|0,I=I+a|0,T=T+s|0,A=A+u|0,m=m+h|0,N=N+c|0,S=S+l|0,U=U+f|0,x=x+d|0,O=O+_|0,M=M+p|0,L=L+y|0,P=P+v|0,k=k+g|0,B=B+E|0,G=G+w|0,e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=I>>>0&255,e[5]=I>>>8&255,e[6]=I>>>16&255,e[7]=I>>>24&255,e[8]=T>>>0&255,e[9]=T>>>8&255,e[10]=T>>>16&255,e[11]=T>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=m>>>0&255,e[17]=m>>>8&255,e[18]=m>>>16&255,e[19]=m>>>24&255,e[20]=N>>>0&255,e[21]=N>>>8&255,e[22]=N>>>16&255,e[23]=N>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=U>>>0&255,e[29]=U>>>8&255,e[30]=U>>>16&255,e[31]=U>>>24&255,e[32]=x>>>0&255,e[33]=x>>>8&255,e[34]=x>>>16&255,e[35]=x>>>24&255,e[36]=O>>>0&255,e[37]=O>>>8&255,e[38]=O>>>16&255,e[39]=O>>>24&255,e[40]=M>>>0&255,e[41]=M>>>8&255,e[42]=M>>>16&255,e[43]=M>>>24&255,e[44]=L>>>0&255,e[45]=L>>>8&255,e[46]=L>>>16&255,e[47]=L>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=k>>>0&255,e[53]=k>>>8&255,e[54]=k>>>16&255,e[55]=k>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=G>>>0&255,e[61]=G>>>8&255,e[62]=G>>>16&255,e[63]=G>>>24&255}(e,t,n,r)}function E(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,_=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,E=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,b=0;b<20;b+=2)o^=(i=(v^=(i=(d^=(i=(h^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+h|0)<<13|i>>>19)+d|0)<<18|i>>>14,c^=(i=(a^=(i=(g^=(i=(_^=(i=c+a|0)<<7|i>>>25)+c|0)<<9|i>>>23)+_|0)<<13|i>>>19)+g|0)<<18|i>>>14,p^=(i=(l^=(i=(s^=(i=(E^=(i=p+l|0)<<7|i>>>25)+p|0)<<9|i>>>23)+E|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(y^=(i=(f^=(i=(u^=(i=w+y|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,c^=(i=(h^=(i=(f^=(i=(l^=(i=c+h|0)<<7|i>>>25)+c|0)<<9|i>>>23)+l|0)<<13|i>>>19)+f|0)<<18|i>>>14,p^=(i=(_^=(i=(d^=(i=(y^=(i=p+_|0)<<7|i>>>25)+p|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(E^=(i=(g^=(i=(v^=(i=w+E|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+g|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=_>>>0&255,e[29]=_>>>8&255,e[30]=_>>>16&255,e[31]=_>>>24&255}(e,t,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,t,n,r,i,o,a){var s,u,h=new Uint8Array(16),c=new Uint8Array(64);for(u=0;u<16;u++)h[u]=0;for(u=0;u<8;u++)h[u]=o[u];for(;i>=64;){for(v(c,h,a,w),u=0;u<64;u++)e[t+u]=n[r+u]^c[u];for(s=1,u=8;u<16;u++)s=s+(255&h[u])|0,h[u]=255&s,s>>>=8;i-=64,t+=64,r+=64}if(i>0)for(v(c,h,a,w),u=0;u<i;u++)e[t+u]=n[r+u]^c[u];return 0}function I(e,t,n,r,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(v(u,s,i,w),a=0;a<64;a++)e[t+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(v(u,s,i,w),a=0;a<n;a++)e[t+a]=u[a];return 0}function T(e,t,n,r,i){var o=new Uint8Array(32);E(o,r,i,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return I(e,t,n,a,o)}function A(e,t,n,r,i,o,a){var s=new Uint8Array(32);E(s,o,a,w);for(var u=new Uint8Array(8),h=0;h<8;h++)u[h]=o[h+16];return b(e,t,n,r,i,u,s)}var m=function(e){var t,n,r,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function N(e,t,n,r,i,o){var a=new m(o);return a.update(n,r,i),a.finish(e,t),0}function S(e,t,n,r,i,o){var a=new Uint8Array(16);return N(a,0,n,r,i,o),p(e,t,a,0)}function U(e,t,n,r,i){var o;if(n<32)return-1;for(A(e,0,t,0,n,r,i),N(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function x(e,t,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(T(a,0,32,r,i),0!==S(t,16,t,32,n-32,a))return-1;for(A(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function O(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function M(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function L(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function P(e,n){var r,i,o,a=t(),s=t();for(r=0;r<16;r++)s[r]=n[r];for(M(s),M(s),M(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,L(s,a,1-o)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function k(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return P(n,e),P(r,t),y(n,0,r,0)}function B(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function G(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function H(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function z(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function C(e,t,n){var r,i,o=0,a=0,s=0,u=0,h=0,c=0,l=0,f=0,d=0,_=0,p=0,y=0,v=0,g=0,E=0,w=0,b=0,I=0,T=0,A=0,m=0,N=0,S=0,U=0,x=0,O=0,M=0,L=0,P=0,k=0,B=0,G=n[0],H=n[1],z=n[2],C=n[3],R=n[4],D=n[5],K=n[6],j=n[7],Y=n[8],Z=n[9],F=n[10],q=n[11],X=n[12],J=n[13],W=n[14],V=n[15];o+=(r=t[0])*G,a+=r*H,s+=r*z,u+=r*C,h+=r*R,c+=r*D,l+=r*K,f+=r*j,d+=r*Y,_+=r*Z,p+=r*F,y+=r*q,v+=r*X,g+=r*J,E+=r*W,w+=r*V,a+=(r=t[1])*G,s+=r*H,u+=r*z,h+=r*C,c+=r*R,l+=r*D,f+=r*K,d+=r*j,_+=r*Y,p+=r*Z,y+=r*F,v+=r*q,g+=r*X,E+=r*J,w+=r*W,b+=r*V,s+=(r=t[2])*G,u+=r*H,h+=r*z,c+=r*C,l+=r*R,f+=r*D,d+=r*K,_+=r*j,p+=r*Y,y+=r*Z,v+=r*F,g+=r*q,E+=r*X,w+=r*J,b+=r*W,I+=r*V,u+=(r=t[3])*G,h+=r*H,c+=r*z,l+=r*C,f+=r*R,d+=r*D,_+=r*K,p+=r*j,y+=r*Y,v+=r*Z,g+=r*F,E+=r*q,w+=r*X,b+=r*J,I+=r*W,T+=r*V,h+=(r=t[4])*G,c+=r*H,l+=r*z,f+=r*C,d+=r*R,_+=r*D,p+=r*K,y+=r*j,v+=r*Y,g+=r*Z,E+=r*F,w+=r*q,b+=r*X,I+=r*J,T+=r*W,A+=r*V,c+=(r=t[5])*G,l+=r*H,f+=r*z,d+=r*C,_+=r*R,p+=r*D,y+=r*K,v+=r*j,g+=r*Y,E+=r*Z,w+=r*F,b+=r*q,I+=r*X,T+=r*J,A+=r*W,m+=r*V,l+=(r=t[6])*G,f+=r*H,d+=r*z,_+=r*C,p+=r*R,y+=r*D,v+=r*K,g+=r*j,E+=r*Y,w+=r*Z,b+=r*F,I+=r*q,T+=r*X,A+=r*J,m+=r*W,N+=r*V,f+=(r=t[7])*G,d+=r*H,_+=r*z,p+=r*C,y+=r*R,v+=r*D,g+=r*K,E+=r*j,w+=r*Y,b+=r*Z,I+=r*F,T+=r*q,A+=r*X,m+=r*J,N+=r*W,S+=r*V,d+=(r=t[8])*G,_+=r*H,p+=r*z,y+=r*C,v+=r*R,g+=r*D,E+=r*K,w+=r*j,b+=r*Y,I+=r*Z,T+=r*F,A+=r*q,m+=r*X,N+=r*J,S+=r*W,U+=r*V,_+=(r=t[9])*G,p+=r*H,y+=r*z,v+=r*C,g+=r*R,E+=r*D,w+=r*K,b+=r*j,I+=r*Y,T+=r*Z,A+=r*F,m+=r*q,N+=r*X,S+=r*J,U+=r*W,x+=r*V,p+=(r=t[10])*G,y+=r*H,v+=r*z,g+=r*C,E+=r*R,w+=r*D,b+=r*K,I+=r*j,T+=r*Y,A+=r*Z,m+=r*F,N+=r*q,S+=r*X,U+=r*J,x+=r*W,O+=r*V,y+=(r=t[11])*G,v+=r*H,g+=r*z,E+=r*C,w+=r*R,b+=r*D,I+=r*K,T+=r*j,A+=r*Y,m+=r*Z,N+=r*F,S+=r*q,U+=r*X,x+=r*J,O+=r*W,M+=r*V,v+=(r=t[12])*G,g+=r*H,E+=r*z,w+=r*C,b+=r*R,I+=r*D,T+=r*K,A+=r*j,m+=r*Y,N+=r*Z,S+=r*F,U+=r*q,x+=r*X,O+=r*J,M+=r*W,L+=r*V,g+=(r=t[13])*G,E+=r*H,w+=r*z,b+=r*C,I+=r*R,T+=r*D,A+=r*K,m+=r*j,N+=r*Y,S+=r*Z,U+=r*F,x+=r*q,O+=r*X,M+=r*J,L+=r*W,P+=r*V,E+=(r=t[14])*G,w+=r*H,b+=r*z,I+=r*C,T+=r*R,A+=r*D,m+=r*K,N+=r*j,S+=r*Y,U+=r*Z,x+=r*F,O+=r*q,M+=r*X,L+=r*J,P+=r*W,k+=r*V,w+=(r=t[15])*G,a+=38*(I+=r*z),s+=38*(T+=r*C),u+=38*(A+=r*R),h+=38*(m+=r*D),c+=38*(N+=r*K),l+=38*(S+=r*j),f+=38*(U+=r*Y),d+=38*(x+=r*Z),_+=38*(O+=r*F),p+=38*(M+=r*q),y+=38*(L+=r*X),v+=38*(P+=r*J),g+=38*(k+=r*W),E+=38*(B+=r*V),o=(r=(o+=38*(b+=r*H))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=h,e[5]=c,e[6]=l,e[7]=f,e[8]=d,e[9]=_,e[10]=p,e[11]=y,e[12]=v,e[13]=g,e[14]=E,e[15]=w}function R(e,t){C(e,t,t)}function D(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)R(i,i),2!==r&&4!==r&&C(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function K(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)R(i,i),1!==r&&C(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function j(e,n,r){var i,o,a=new Uint8Array(32),u=new Float64Array(80),h=t(),c=t(),l=t(),f=t(),d=t(),_=t();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,G(u,r),o=0;o<16;o++)c[o]=u[o],f[o]=h[o]=l[o]=0;for(h[0]=f[0]=1,o=254;o>=0;--o)L(h,c,i=a[o>>>3]>>>(7&o)&1),L(l,f,i),H(d,h,l),z(h,h,l),H(l,c,f),z(c,c,f),R(f,d),R(_,h),C(h,l,h),C(l,c,d),H(d,h,l),z(h,h,l),R(c,h),z(l,f,_),C(h,l,s),H(h,h,f),C(l,l,h),C(h,f,_),C(f,c,u),R(c,d),L(h,c,i),L(l,f,i);for(o=0;o<16;o++)u[o+16]=h[o],u[o+32]=l[o],u[o+48]=c[o],u[o+64]=f[o];var p=u.subarray(32),y=u.subarray(16);return D(p,p),C(y,y,p),P(e,y),0}function Y(e,t){return j(e,t,i)}function Z(e,t){return n(t,32),Y(e,t)}function F(e,t,n){var i=new Uint8Array(32);return j(i,n,t),E(e,r,i,w)}m.prototype.blocks=function(e,t,n){for(var r,i,o,a,s,u,h,c,l,f,d,_,p,y,v,g,E,w,b,I=this.fin?0:2048,T=this.h[0],A=this.h[1],m=this.h[2],N=this.h[3],S=this.h[4],U=this.h[5],x=this.h[6],O=this.h[7],M=this.h[8],L=this.h[9],P=this.r[0],k=this.r[1],B=this.r[2],G=this.r[3],H=this.r[4],z=this.r[5],C=this.r[6],R=this.r[7],D=this.r[8],K=this.r[9];n>=16;)f=l=0,f+=(T+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*P,f+=(A+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*K),f+=(m+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*D),f+=(N+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*R),l=(f+=(S+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*C))>>>13,f&=8191,f+=(U+=s>>>1&8191)*(5*z),f+=(x+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*H),f+=(O+=8191&(u>>>11|(h=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*G),f+=(M+=8191&(h>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*B),d=l+=(f+=(L+=c>>>5|I)*(5*k))>>>13,d+=T*k,d+=A*P,d+=m*(5*K),d+=N*(5*D),l=(d+=S*(5*R))>>>13,d&=8191,d+=U*(5*C),d+=x*(5*z),d+=O*(5*H),d+=M*(5*G),l+=(d+=L*(5*B))>>>13,d&=8191,_=l,_+=T*B,_+=A*k,_+=m*P,_+=N*(5*K),l=(_+=S*(5*D))>>>13,_&=8191,_+=U*(5*R),_+=x*(5*C),_+=O*(5*z),_+=M*(5*H),p=l+=(_+=L*(5*G))>>>13,p+=T*G,p+=A*B,p+=m*k,p+=N*P,l=(p+=S*(5*K))>>>13,p&=8191,p+=U*(5*D),p+=x*(5*R),p+=O*(5*C),p+=M*(5*z),y=l+=(p+=L*(5*H))>>>13,y+=T*H,y+=A*G,y+=m*B,y+=N*k,l=(y+=S*P)>>>13,y&=8191,y+=U*(5*K),y+=x*(5*D),y+=O*(5*R),y+=M*(5*C),v=l+=(y+=L*(5*z))>>>13,v+=T*z,v+=A*H,v+=m*G,v+=N*B,l=(v+=S*k)>>>13,v&=8191,v+=U*P,v+=x*(5*K),v+=O*(5*D),v+=M*(5*R),g=l+=(v+=L*(5*C))>>>13,g+=T*C,g+=A*z,g+=m*H,g+=N*G,l=(g+=S*B)>>>13,g&=8191,g+=U*k,g+=x*P,g+=O*(5*K),g+=M*(5*D),E=l+=(g+=L*(5*R))>>>13,E+=T*R,E+=A*C,E+=m*z,E+=N*H,l=(E+=S*G)>>>13,E&=8191,E+=U*B,E+=x*k,E+=O*P,E+=M*(5*K),w=l+=(E+=L*(5*D))>>>13,w+=T*D,w+=A*R,w+=m*C,w+=N*z,l=(w+=S*H)>>>13,w&=8191,w+=U*G,w+=x*B,w+=O*k,w+=M*P,b=l+=(w+=L*(5*K))>>>13,b+=T*K,b+=A*D,b+=m*R,b+=N*C,l=(b+=S*z)>>>13,b&=8191,b+=U*H,b+=x*G,b+=O*B,b+=M*k,T=f=8191&(l=(l=((l+=(b+=L*P)>>>13)<<2)+l|0)+(f&=8191)|0),A=d+=l>>>=13,m=_&=8191,N=p&=8191,S=y&=8191,U=v&=8191,x=g&=8191,O=E&=8191,M=w&=8191,L=b&=8191,t+=16,n-=16;this.h[0]=T,this.h[1]=A,this.h[2]=m,this.h[3]=N,this.h[4]=S,this.h[5]=U,this.h[6]=x,this.h[7]=O,this.h[8]=M,this.h[9]=L},m.prototype.finish=function(e,t){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},m.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var q=U,X=x;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(e,t,n,r){for(var i,o,a,s,u,h,c,l,f,d,_,p,y,v,g,E,w,b,I,T,A,m,N,S,U,x,O=new Int32Array(16),M=new Int32Array(16),L=e[0],P=e[1],k=e[2],B=e[3],G=e[4],H=e[5],z=e[6],C=e[7],R=t[0],D=t[1],K=t[2],j=t[3],Y=t[4],Z=t[5],F=t[6],q=t[7],X=0;r>=128;){for(I=0;I<16;I++)T=8*I+X,O[I]=n[T+0]<<24|n[T+1]<<16|n[T+2]<<8|n[T+3],M[I]=n[T+4]<<24|n[T+5]<<16|n[T+6]<<8|n[T+7];for(I=0;I<80;I++)if(i=L,o=P,a=k,s=B,u=G,h=H,c=z,C,f=R,d=D,_=K,p=j,y=Y,v=Z,g=F,q,N=65535&(m=q),S=m>>>16,U=65535&(A=C),x=A>>>16,N+=65535&(m=(Y>>>14|G<<18)^(Y>>>18|G<<14)^(G>>>9|Y<<23)),S+=m>>>16,U+=65535&(A=(G>>>14|Y<<18)^(G>>>18|Y<<14)^(Y>>>9|G<<23)),x+=A>>>16,N+=65535&(m=Y&Z^~Y&F),S+=m>>>16,U+=65535&(A=G&H^~G&z),x+=A>>>16,N+=65535&(m=J[2*I+1]),S+=m>>>16,U+=65535&(A=J[2*I]),x+=A>>>16,A=O[I%16],S+=(m=M[I%16])>>>16,U+=65535&A,x+=A>>>16,U+=(S+=(N+=65535&m)>>>16)>>>16,N=65535&(m=b=65535&N|S<<16),S=m>>>16,U=65535&(A=w=65535&U|(x+=U>>>16)<<16),x=A>>>16,N+=65535&(m=(R>>>28|L<<4)^(L>>>2|R<<30)^(L>>>7|R<<25)),S+=m>>>16,U+=65535&(A=(L>>>28|R<<4)^(R>>>2|L<<30)^(R>>>7|L<<25)),x+=A>>>16,S+=(m=R&D^R&K^D&K)>>>16,U+=65535&(A=L&P^L&k^P&k),x+=A>>>16,l=65535&(U+=(S+=(N+=65535&m)>>>16)>>>16)|(x+=U>>>16)<<16,E=65535&N|S<<16,N=65535&(m=p),S=m>>>16,U=65535&(A=s),x=A>>>16,S+=(m=b)>>>16,U+=65535&(A=w),x+=A>>>16,P=i,k=o,B=a,G=s=65535&(U+=(S+=(N+=65535&m)>>>16)>>>16)|(x+=U>>>16)<<16,H=u,z=h,C=c,L=l,D=f,K=d,j=_,Y=p=65535&N|S<<16,Z=y,F=v,q=g,R=E,I%16==15)for(T=0;T<16;T++)A=O[T],N=65535&(m=M[T]),S=m>>>16,U=65535&A,x=A>>>16,A=O[(T+9)%16],N+=65535&(m=M[(T+9)%16]),S+=m>>>16,U+=65535&A,x+=A>>>16,w=O[(T+1)%16],N+=65535&(m=((b=M[(T+1)%16])>>>1|w<<31)^(b>>>8|w<<24)^(b>>>7|w<<25)),S+=m>>>16,U+=65535&(A=(w>>>1|b<<31)^(w>>>8|b<<24)^w>>>7),x+=A>>>16,w=O[(T+14)%16],S+=(m=((b=M[(T+14)%16])>>>19|w<<13)^(w>>>29|b<<3)^(b>>>6|w<<26))>>>16,U+=65535&(A=(w>>>19|b<<13)^(b>>>29|w<<3)^w>>>6),x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,O[T]=65535&U|x<<16,M[T]=65535&N|S<<16;N=65535&(m=R),S=m>>>16,U=65535&(A=L),x=A>>>16,A=e[0],S+=(m=t[0])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[0]=L=65535&U|x<<16,t[0]=R=65535&N|S<<16,N=65535&(m=D),S=m>>>16,U=65535&(A=P),x=A>>>16,A=e[1],S+=(m=t[1])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[1]=P=65535&U|x<<16,t[1]=D=65535&N|S<<16,N=65535&(m=K),S=m>>>16,U=65535&(A=k),x=A>>>16,A=e[2],S+=(m=t[2])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[2]=k=65535&U|x<<16,t[2]=K=65535&N|S<<16,N=65535&(m=j),S=m>>>16,U=65535&(A=B),x=A>>>16,A=e[3],S+=(m=t[3])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[3]=B=65535&U|x<<16,t[3]=j=65535&N|S<<16,N=65535&(m=Y),S=m>>>16,U=65535&(A=G),x=A>>>16,A=e[4],S+=(m=t[4])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[4]=G=65535&U|x<<16,t[4]=Y=65535&N|S<<16,N=65535&(m=Z),S=m>>>16,U=65535&(A=H),x=A>>>16,A=e[5],S+=(m=t[5])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[5]=H=65535&U|x<<16,t[5]=Z=65535&N|S<<16,N=65535&(m=F),S=m>>>16,U=65535&(A=z),x=A>>>16,A=e[6],S+=(m=t[6])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[6]=z=65535&U|x<<16,t[6]=F=65535&N|S<<16,N=65535&(m=q),S=m>>>16,U=65535&(A=C),x=A>>>16,A=e[7],S+=(m=t[7])>>>16,U+=65535&A,x+=A>>>16,x+=(U+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[7]=C=65535&U|x<<16,t[7]=q=65535&N|S<<16,X+=128,r-=128}return r}function V(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,W(i,o,t,n),n%=128,r=0;r<n;r++)a[r]=t[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,d(a,n-8,s/536870912|0,s<<3),W(i,o,a,n),r=0;r<8;r++)d(e,8*r,i[r],o[r]);return 0}function $(e,n){var r=t(),i=t(),o=t(),a=t(),s=t(),u=t(),c=t(),l=t(),f=t();z(r,e[1],e[0]),z(f,n[1],n[0]),C(r,r,f),H(i,e[0],e[1]),H(f,n[0],n[1]),C(i,i,f),C(o,e[3],n[3]),C(o,o,h),C(a,e[2],n[2]),H(a,a,a),z(s,i,r),z(u,a,o),H(c,a,o),H(l,i,r),C(e[0],s,u),C(e[1],l,c),C(e[2],c,u),C(e[3],s,l)}function Q(e,t,n){var r;for(r=0;r<4;r++)L(e[r],t[r],n)}function ee(e,n){var r=t(),i=t(),o=t();D(o,n[2]),C(r,n[0],o),C(i,n[1],o),P(e,i),e[31]^=B(r)<<7}function te(e,t,n){var r,i;for(O(e[0],o),O(e[1],a),O(e[2],a),O(e[3],o),i=255;i>=0;--i)Q(e,t,r=n[i/8|0]>>(7&i)&1),$(t,e),$(e,e),Q(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];O(r[0],c),O(r[1],l),O(r[2],a),C(r[3],c,l),te(e,r,n)}function re(e,r,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||n(r,32),V(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,ne(s,a),ee(e,s),o=0;o<32;o++)r[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*ie[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ie[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ie[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function ae(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,n)}function se(e,n,r,i){var o,a,s=new Uint8Array(64),u=new Uint8Array(64),h=new Uint8Array(64),c=new Float64Array(64),l=[t(),t(),t(),t()];V(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=r+64;for(o=0;o<r;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(V(h,e.subarray(32),r+32),ae(h),ne(l,h),ee(e,l),o=32;o<64;o++)e[o]=i[o];for(V(u,e,r+64),ae(u),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=h[o];for(o=0;o<32;o++)for(a=0;a<32;a++)c[o+a]+=u[o]*s[a];return oe(e.subarray(32),c),f}function ue(e,n,r,i){var s,h=new Uint8Array(32),c=new Uint8Array(64),l=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),i=t(),s=t(),h=t(),c=t(),l=t(),d=t();return O(e[2],a),G(e[1],n),R(s,e[1]),C(h,s,u),z(s,s,e[2]),H(h,e[2],h),R(c,h),R(l,c),C(d,l,c),C(r,d,s),C(r,r,h),K(r,r),C(r,r,s),C(r,r,h),C(r,r,h),C(e[0],r,h),R(i,e[0]),C(i,i,h),k(i,s)&&C(e[0],e[0],f),R(i,e[0]),C(i,i,h),k(i,s)?-1:(B(e[0])===n[31]>>7&&z(e[0],o,e[0]),C(e[3],e[0],e[1]),0)}(d,i))return-1;for(s=0;s<r;s++)e[s]=n[s];for(s=0;s<32;s++)e[s+32]=i[s];if(V(c,e,r),ae(c),te(l,d,c),ne(d,n.subarray(32)),$(l,d),ee(h,l),r-=64,y(n,0,h,0)){for(s=0;s<r;s++)e[s]=0;return-1}for(s=0;s<r;s++)e[s]=n[s+64];return r}var he=16,ce=64,le=32,fe=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function _e(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:E,crypto_stream_xor:A,crypto_stream:T,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:I,crypto_onetimeauth:N,crypto_onetimeauth_verify:S,crypto_verify_16:p,crypto_verify_32:y,crypto_secretbox:U,crypto_secretbox_open:x,crypto_scalarmult:j,crypto_scalarmult_base:Y,crypto_box_beforenm:F,crypto_box_afternm:q,crypto_box:function(e,t,n,r,i,o){var a=new Uint8Array(32);return F(a,i,o),q(e,t,n,r,a)},crypto_box_open:function(e,t,n,r,i,o){var a=new Uint8Array(32);return F(a,i,o),X(e,t,n,r,a)},crypto_box_keypair:Z,crypto_hash:V,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:he,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ce,crypto_sign_PUBLICKEYBYTES:le,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack25519:P,unpack25519:G,M:C,A:H,S:R,Z:z,pow2523:K,add:$,set25519:O,modL:oe,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,n){_e(e,t,n),de(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return U(i,r,r.length,t,n),i.subarray(he)},e.secretbox.open=function(e,t,n){_e(e,t,n),de(n,t);for(var r=new Uint8Array(he+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+he]=e[o];return r.length<32||0!==x(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=he,e.scalarMult=function(e,t){if(_e(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return j(n,e,t),n},e.scalarMult.base=function(e){if(_e(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return Y(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){_e(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return F(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return Z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(_e(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return Y(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(_e(e,t),t.length!==fe)throw new Error("bad secret key size");var n=new Uint8Array(ce+e.length);return se(n,e,e.length,t),n},e.sign.open=function(e,t){if(_e(e,t),t.length!==le)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ue(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(ce),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(_e(e,t,n),t.length!==ce)throw new Error("bad signature size");if(n.length!==le)throw new Error("bad public key size");var r,i=new Uint8Array(ce+e.length),o=new Uint8Array(ce+e.length);for(r=0;r<ce;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+ce]=e[r];return ue(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(fe);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(_e(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(le),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(_e(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(le),n=new Uint8Array(fe),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=le,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=ce,e.hash=function(e){_e(e);var t=new Uint8Array(64);return V(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return _e(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===_(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];pe(i)}))}else(t=g)&&t.randomBytes&&e.setPRNG((function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];pe(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),w=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayHelper=void 0;var n=function(){function e(){}return e.equal=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},e}();t.ArrayHelper=n})),b=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Blake2b=void 0;var n=function(){function e(){this._v=new Uint32Array(32),this._m=new Uint32Array(32)}return e.sum256=function(t){var n=new e,r=n.init(e.SIZE_256);return n.update(r,t),n.final(r)},e.sum512=function(t){var n=new e,r=n.init(e.SIZE_512);return n.update(r,t),n.final(r)},e.prototype.compress=function(t,n){var r=0;for(r=0;r<16;r++)this._v[r]=t.h[r],this._v[r+16]=e.BLAKE2B_IV32[r];for(this._v[24]^=t.t,this._v[25]^=t.t/4294967296,n&&(this._v[28]=~this._v[28],this._v[29]=~this._v[29]),r=0;r<32;r++)this._m[r]=this.b2bGet32(t.b,4*r);for(r=0;r<12;r++)this.b2bG(0,8,16,24,e.SIGMA82[16*r+0],e.SIGMA82[16*r+1]),this.b2bG(2,10,18,26,e.SIGMA82[16*r+2],e.SIGMA82[16*r+3]),this.b2bG(4,12,20,28,e.SIGMA82[16*r+4],e.SIGMA82[16*r+5]),this.b2bG(6,14,22,30,e.SIGMA82[16*r+6],e.SIGMA82[16*r+7]),this.b2bG(0,10,20,30,e.SIGMA82[16*r+8],e.SIGMA82[16*r+9]),this.b2bG(2,12,22,24,e.SIGMA82[16*r+10],e.SIGMA82[16*r+11]),this.b2bG(4,14,16,26,e.SIGMA82[16*r+12],e.SIGMA82[16*r+13]),this.b2bG(6,8,18,28,e.SIGMA82[16*r+14],e.SIGMA82[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^this._v[r]^this._v[r+16]},e.prototype.init=function(t,n){if(t<=0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(n&&n.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},i=0;i<16;i++)r.h[i]=e.BLAKE2B_IV32[i];var o=n?n.length:0;return r.h[0]^=16842752^o<<8^t,n&&(this.update(r,n),r.c=128),r},e.prototype.update=function(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,this.compress(e,!1),e.c=0),e.b[e.c++]=t[n]},e.prototype.final=function(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;this.compress(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t},e.prototype.add64AA=function(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i},e.prototype.add64AC=function(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var o=e[t+1]+r;i>=4294967296&&o++,e[t]=i,e[t+1]=o},e.prototype.b2bGet32=function(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24},e.prototype.b2bG=function(e,t,n,r,i,o){var a=this._m[i],s=this._m[i+1],u=this._m[o],h=this._m[o+1];this.add64AA(this._v,e,t),this.add64AC(this._v,e,a,s);var c=this._v[r]^this._v[e],l=this._v[r+1]^this._v[e+1];this._v[r]=l,this._v[r+1]=c,this.add64AA(this._v,n,r),c=this._v[t]^this._v[n],l=this._v[t+1]^this._v[n+1],this._v[t]=c>>>24^l<<8,this._v[t+1]=l>>>24^c<<8,this.add64AA(this._v,e,t),this.add64AC(this._v,e,u,h),c=this._v[r]^this._v[e],l=this._v[r+1]^this._v[e+1],this._v[r]=c>>>16^l<<16,this._v[r+1]=l>>>16^c<<16,this.add64AA(this._v,n,r),c=this._v[t]^this._v[n],l=this._v[t+1]^this._v[n+1],this._v[t]=l>>>31^c<<1,this._v[t+1]=c>>>31^l<<1},e.SIZE_256=32,e.SIZE_512=64,e.BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),e.SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],e.SIGMA82=new Uint8Array(e.SIGMA8.map((function(e){return 2*e}))),e}();t.Blake2b=n})),I=n((function(t,n){var r=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.Ed25519=void 0;var a=o(E),s=function(){function e(){}return e.signData=function(e,t){return a.sign.detached(t,e)},e.verifyData=function(e,t,n){return a.sign.detached.verify(n,t,e)},e.publicKeyToAddress=function(e){return b.Blake2b.sum256(e)},e.verifyAddress=function(t,n){return w.ArrayHelper.equal(e.publicKeyToAddress(t),n)},e.PUBLIC_KEY_SIZE=32,e.SIGNATURE_SIZE=64,e.ADDRESS_LENGTH=b.Blake2b.SIZE_256,e}();n.Ed25519=s})),T=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHex=t.ARRAY_LENGTH=t.STRING_LENGTH=t.SMALL_TYPE_LENGTH=t.TYPE_LENGTH=t.TRANSACTION_ID_LENGTH=t.MESSAGE_ID_LENGTH=t.UINT64_SIZE=t.UINT32_SIZE=t.UINT16_SIZE=t.BYTE_SIZE=void 0,t.BYTE_SIZE=1,t.UINT16_SIZE=2,t.UINT32_SIZE=4,t.UINT64_SIZE=8,t.MESSAGE_ID_LENGTH=b.Blake2b.SIZE_256,t.TRANSACTION_ID_LENGTH=b.Blake2b.SIZE_256,t.TYPE_LENGTH=t.UINT32_SIZE,t.SMALL_TYPE_LENGTH=t.BYTE_SIZE,t.STRING_LENGTH=t.UINT16_SIZE,t.ARRAY_LENGTH=t.UINT16_SIZE,t.isHex=function(e){return e.length%2!=1&&/[\da-f]/gi.test(e)}})),A=n((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_ED25519_ADDRESS_LENGTH))throw new Error("Ed25519 address data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ED25519_ADDRESS_LENGTH);var n=e.readByte("ed25519Address.type");if(1!==n)throw new Error("Type mismatch in ed25519Address "+n);return{type:n,address:e.readFixedHex("ed25519Address.address",I.Ed25519.ADDRESS_LENGTH)}}function r(e,t){e.writeByte("ed25519Address.type",t.type),e.writeFixedHex("ed25519Address.address",I.Ed25519.ADDRESS_LENGTH,t.address)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEd25519Address=t.deserializeEd25519Address=t.serializeAddress=t.deserializeAddress=t.MIN_ED25519_ADDRESS_LENGTH=t.MIN_ADDRESS_LENGTH=void 0,t.MIN_ADDRESS_LENGTH=T.SMALL_TYPE_LENGTH,t.MIN_ED25519_ADDRESS_LENGTH=t.MIN_ADDRESS_LENGTH+I.Ed25519.ADDRESS_LENGTH,t.deserializeAddress=function(e){if(!e.hasRemaining(t.MIN_ADDRESS_LENGTH))throw new Error("Address data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ADDRESS_LENGTH);var r=e.readByte("address.type",!1);if(1!==r)throw new Error("Unrecognized address type "+r);return n(e)},t.serializeAddress=function(e,t){if(1!==t.type)throw new Error("Unrecognized address type "+t.type);r(e,t)},t.deserializeEd25519Address=n,t.serializeEd25519Address=r})),m=n((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_INPUT_LENGTH))throw new Error("Input data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_INPUT_LENGTH);var n=e.readByte("input.type",!1);if(0!==n)throw new Error("Unrecognized input type "+n);return i(e)}function r(e,t){if(0!==t.type)throw new Error("Unrecognized input type "+t.type);o(e,t)}function i(e){if(!e.hasRemaining(t.MIN_UTXO_INPUT_LENGTH))throw new Error("UTXO Input data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_UTXO_INPUT_LENGTH);var n=e.readByte("utxoInput.type");if(0!==n)throw new Error("Type mismatch in utxoInput "+n);return{type:n,transactionId:e.readFixedHex("utxoInput.transactionId",T.TRANSACTION_ID_LENGTH),transactionOutputIndex:e.readUInt16("utxoInput.transactionOutputIndex")}}function o(e,t){e.writeByte("utxoInput.type",t.type),e.writeFixedHex("utxoInput.transactionId",T.TRANSACTION_ID_LENGTH,t.transactionId),e.writeUInt16("utxoInput.transactionOutputIndex",t.transactionOutputIndex)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeUTXOInput=t.deserializeUTXOInput=t.serializeInput=t.deserializeInput=t.serializeInputs=t.deserializeInputs=t.MIN_UTXO_INPUT_LENGTH=t.MIN_INPUT_LENGTH=void 0,t.MIN_INPUT_LENGTH=T.SMALL_TYPE_LENGTH,t.MIN_UTXO_INPUT_LENGTH=t.MIN_INPUT_LENGTH+T.TRANSACTION_ID_LENGTH+T.UINT16_SIZE,t.deserializeInputs=function(e){for(var t=e.readUInt16("inputs.numInputs"),r=[],i=0;i<t;i++)r.push(n(e));return r},t.serializeInputs=function(e,t){e.writeUInt16("inputs.numInputs",t.length);for(var n=0;n<t.length;n++)r(e,t[n])},t.deserializeInput=n,t.serializeInput=r,t.deserializeUTXOInput=i,t.serializeUTXOInput=o})),N=n((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_OUTPUT_LENGTH))throw new Error("Output data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_OUTPUT_LENGTH);var n=e.readByte("output.type",!1);if(0!==n)throw new Error("Unrecognized output type "+n);return i(e)}function r(e,t){if(0!==t.type)throw new Error("Unrecognized output type "+t.type);o(e,t)}function i(e){if(!e.hasRemaining(t.MIN_SIG_LOCKED_OUTPUT_LENGTH))throw new Error("Signature Locked Single Output data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIG_LOCKED_OUTPUT_LENGTH);var n=e.readByte("sigLockedSingleOutput.type");if(0!==n)throw new Error("Type mismatch in sigLockedSingleOutput "+n);var r=A.deserializeAddress(e),i=e.readUInt64("sigLockedSingleOutput.amount");return{type:n,address:r,amount:Number(i)}}function o(e,t){e.writeByte("sigLockedSingleOutput.type",t.type),A.serializeAddress(e,t.address),e.writeUInt64("sigLockedSingleOutput.amount",BigInt(t.amount))}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeSigLockedSingleOutput=t.deserializeSigLockedSingleOutput=t.serializeOutput=t.deserializeOutput=t.serializeOutputs=t.deserializeOutputs=t.MIN_SIG_LOCKED_OUTPUT_LENGTH=t.MIN_OUTPUT_LENGTH=void 0,t.MIN_OUTPUT_LENGTH=T.SMALL_TYPE_LENGTH,t.MIN_SIG_LOCKED_OUTPUT_LENGTH=t.MIN_OUTPUT_LENGTH+A.MIN_ADDRESS_LENGTH+A.MIN_ED25519_ADDRESS_LENGTH,t.deserializeOutputs=function(e){for(var t=e.readUInt16("outputs.numOutputs"),r=[],i=0;i<t;i++)r.push(n(e));return r},t.serializeOutputs=function(e,t){e.writeUInt16("outputs.numOutputs",t.length);for(var n=0;n<t.length;n++)r(e,t[n])},t.deserializeOutput=n,t.serializeOutput=r,t.deserializeSigLockedSingleOutput=i,t.serializeSigLockedSingleOutput=o})),S=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransactionEssence=t.deserializeTransactionEssence=t.MIN_TRANSACTION_ESSENCE_LENGTH=void 0,t.MIN_TRANSACTION_ESSENCE_LENGTH=T.SMALL_TYPE_LENGTH+2*T.ARRAY_LENGTH+T.UINT32_SIZE,t.deserializeTransactionEssence=function(e){if(!e.hasRemaining(t.MIN_TRANSACTION_ESSENCE_LENGTH))throw new Error("Transaction essence data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_TRANSACTION_ESSENCE_LENGTH);var n=e.readByte("transactionEssence.type");if(0!==n)throw new Error("Type mismatch in transactionEssence "+n);var r=m.deserializeInputs(e),i=N.deserializeOutputs(e),o=O.deserializePayload(e);if(o&&2!==o.type)throw new Error("Transaction essence can only contain embedded Indexation Payload");return{type:n,inputs:r,outputs:i,payload:o}},t.serializeTransactionEssence=function(e,t){e.writeByte("transactionEssence.type",t.type),m.serializeInputs(e,t.inputs),N.serializeOutputs(e,t.outputs),O.serializePayload(e,t.payload)}})),U=n((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_ED25519_SIGNATURE_LENGTH))throw new Error("Ed25519 signature data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ED25519_SIGNATURE_LENGTH);var n=e.readByte("ed25519Signature.type");if(1!==n)throw new Error("Type mismatch in ed25519Signature "+n);return{type:n,publicKey:e.readFixedHex("ed25519Signature.publicKey",I.Ed25519.PUBLIC_KEY_SIZE),signature:e.readFixedHex("ed25519Signature.signature",I.Ed25519.SIGNATURE_SIZE)}}function r(e,t){e.writeByte("ed25519Signature.type",t.type),e.writeFixedHex("ed25519Signature.publicKey",I.Ed25519.PUBLIC_KEY_SIZE,t.publicKey),e.writeFixedHex("ed25519Signature.signature",I.Ed25519.SIGNATURE_SIZE,t.signature)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEd25519Signature=t.deserializeEd25519Signature=t.serializeSignature=t.deserializeSignature=t.MIN_ED25519_SIGNATURE_LENGTH=t.MIN_SIGNATURE_LENGTH=void 0,t.MIN_SIGNATURE_LENGTH=T.SMALL_TYPE_LENGTH,t.MIN_ED25519_SIGNATURE_LENGTH=t.MIN_SIGNATURE_LENGTH+I.Ed25519.SIGNATURE_SIZE+I.Ed25519.PUBLIC_KEY_SIZE,t.deserializeSignature=function(e){if(!e.hasRemaining(t.MIN_SIGNATURE_LENGTH))throw new Error("Signature data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIGNATURE_LENGTH);var r=e.readByte("signature.type",!1);if(1!==r)throw new Error("Unrecognized signature type "+r);return n(e)},t.serializeSignature=function(e,t){if(1!==t.type)throw new Error("Unrecognized signature type "+t.type);r(e,t)},t.deserializeEd25519Signature=n,t.serializeEd25519Signature=r})),x=n((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_UNLOCK_BLOCK_LENGTH))throw new Error("Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_UNLOCK_BLOCK_LENGTH);var n,r=e.readByte("unlockBlock.type",!1);if(0===r)n=i(e);else{if(1!==r)throw new Error("Unrecognized unlock block type "+r);n=a(e)}return n}function r(e,t){if(0===t.type)o(e,t);else{if(1!==t.type)throw new Error("Unrecognized unlock block type "+t.type);s(e,t)}}function i(e){if(!e.hasRemaining(t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH))throw new Error("Signature Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH);var n=e.readByte("signatureUnlockBlock.type");if(0!==n)throw new Error("Type mismatch in signatureUnlockBlock "+n);return{type:n,signature:U.deserializeSignature(e)}}function o(e,t){e.writeByte("signatureUnlockBlock.type",t.type),U.serializeSignature(e,t.signature)}function a(e){if(!e.hasRemaining(t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH))throw new Error("Reference Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH);var n=e.readByte("referenceUnlockBlock.type");if(1!==n)throw new Error("Type mismatch in referenceUnlockBlock "+n);return{type:n,reference:e.readUInt16("referenceUnlockBlock.reference")}}function s(e,t){e.writeByte("referenceUnlockBlock.type",t.type),e.writeUInt16("referenceUnlockBlock.reference",t.reference)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeReferenceUnlockBlock=t.deserializeReferenceUnlockBlock=t.serializeSignatureUnlockBlock=t.deserializeSignatureUnlockBlock=t.serializeUnlockBlock=t.deserializeUnlockBlock=t.serializeUnlockBlocks=t.deserializeUnlockBlocks=t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH=t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH=void 0,t.MIN_UNLOCK_BLOCK_LENGTH=T.SMALL_TYPE_LENGTH,t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH+U.MIN_SIGNATURE_LENGTH,t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH+T.UINT16_SIZE,t.deserializeUnlockBlocks=function(e){for(var t=e.readUInt16("transactionEssence.numUnlockBlocks"),r=[],i=0;i<t;i++)r.push(n(e));return r},t.serializeUnlockBlocks=function(e,t){e.writeUInt16("transactionEssence.numUnlockBlocks",t.length);for(var n=0;n<t.length;n++)r(e,t[n])},t.deserializeUnlockBlock=n,t.serializeUnlockBlock=r,t.deserializeSignatureUnlockBlock=i,t.serializeSignatureUnlockBlock=o,t.deserializeReferenceUnlockBlock=a,t.serializeReferenceUnlockBlock=s})),O=n((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_TRANSACTION_PAYLOAD_LENGTH))throw new Error("Transaction Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_TRANSACTION_PAYLOAD_LENGTH);var n=e.readUInt32("payloadTransaction.type");if(0!==n)throw new Error("Type mismatch in payloadTransaction "+n);if(0!==e.readByte("payloadTransaction.essenceType",!1))throw new Error("Unrecognized transaction essence type "+n);return{type:n,essence:S.deserializeTransactionEssence(e),unlockBlocks:x.deserializeUnlockBlocks(e)}}function r(e,t){if(e.writeUInt32("payloadMilestone.type",t.type),0!==t.type)throw new Error("Unrecognized transaction type "+t.type);S.serializeTransactionEssence(e,t.essence),x.serializeUnlockBlocks(e,t.unlockBlocks)}function i(e){if(!e.hasRemaining(t.MIN_MILESTONE_PAYLOAD_LENGTH))throw new Error("Milestone Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_MILESTONE_PAYLOAD_LENGTH);var n=e.readUInt32("payloadMilestone.type");if(1!==n)throw new Error("Type mismatch in payloadMilestone "+n);for(var r=e.readUInt64("payloadMilestone.index"),i=e.readUInt64("payloadMilestone.timestamp"),o=e.readFixedHex("payloadMilestone.inclusionMerkleProof",64),a=e.readByte("payloadMilestone.signaturesCount"),s=[],u=0;u<a;u++)s.push(e.readFixedHex("payloadMilestone.signature",64));return{type:n,index:Number(r),timestamp:Number(i),inclusionMerkleProof:o,signatures:s}}function o(e,t){e.writeUInt32("payloadMilestone.type",t.type),e.writeUInt64("payloadMilestone.index",BigInt(t.index)),e.writeUInt64("payloadMilestone.timestamp",BigInt(t.timestamp)),e.writeFixedHex("payloadMilestone.inclusionMerkleProof",64,t.inclusionMerkleProof),e.writeByte("payloadMilestone.signaturesCount",t.signatures.length);for(var n=0;n<t.signatures.length;n++)e.writeFixedHex("payloadMilestone.signature",64,t.signatures[n])}function a(e){if(!e.hasRemaining(t.MIN_INDEXATION_PAYLOAD_LENGTH))throw new Error("Indexation Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_INDEXATION_PAYLOAD_LENGTH);var n=e.readUInt32("payloadIndexation.type");if(2!==n)throw new Error("Type mismatch in payloadIndexation "+n);var r=e.readString("payloadIndexation.index"),i=e.readUInt32("payloadIndexation.dataLength");return{type:2,index:r,data:e.readFixedHex("payloadIndexation.data",i)}}function s(e,t){e.writeUInt32("payloadIndexation.type",t.type),e.writeString("payloadIndexation.index",t.index),e.writeUInt32("payloadIndexation.dataLength",t.data.length/2),e.writeFixedHex("payloadIndexation.data",t.data.length/2,t.data)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIndexationPayload=t.deserializeIndexationPayload=t.serializeMilestonePayload=t.deserializeMilestonePayload=t.serializeTransactionPayload=t.deserializeTransactionPayload=t.serializePayload=t.deserializePayload=t.MIN_TRANSACTION_PAYLOAD_LENGTH=t.MIN_INDEXATION_PAYLOAD_LENGTH=t.MIN_MILESTONE_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH=void 0,t.MIN_PAYLOAD_LENGTH=T.TYPE_LENGTH,t.MIN_MILESTONE_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+2*T.UINT64_SIZE+64+T.BYTE_SIZE,t.MIN_INDEXATION_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+T.STRING_LENGTH+T.STRING_LENGTH,t.MIN_TRANSACTION_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+T.UINT32_SIZE,t.deserializePayload=function(e){if(!e.hasRemaining(t.MIN_PAYLOAD_LENGTH))throw new Error("Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_PAYLOAD_LENGTH);var r,o=e.readUInt32("payload.length");if(!e.hasRemaining(o))throw new Error("Payload length "+o+" exceeds the remaining data "+e.unused());if(o>0){var s=e.readUInt32("payload.type",!1);if(0===s)r=n(e);else if(1===s)r=i(e);else{if(2!==s)throw new Error("Unrecognized payload type "+s);r=a(e)}}return r},t.serializePayload=function(e,t){var n=e.getWriteIndex();if(e.writeUInt32("payload.length",0),t)if(0===t.type)r(e,t);else if(1===t.type)o(e,t);else{if(2!==t.type)throw new Error("Unrecognized transaction type "+t.type);s(e,t)}else;var i=e.getWriteIndex();e.setWriteIndex(n),e.writeUInt32("payload.length",i-n-T.UINT32_SIZE),e.setWriteIndex(i)},t.deserializeTransactionPayload=n,t.serializeTransactionPayload=r,t.deserializeMilestonePayload=i,t.serializeMilestonePayload=o,t.deserializeIndexationPayload=a,t.serializeIndexationPayload=s})),M=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeMessage=t.deserializeMessage=void 0;var n=T.BYTE_SIZE+2*T.MESSAGE_ID_LENGTH+O.MIN_PAYLOAD_LENGTH+T.UINT64_SIZE,r="0".repeat(2*T.MESSAGE_ID_LENGTH);t.deserializeMessage=function(e){if(!e.hasRemaining(n))throw new Error("Message data is "+e.length()+" in length which is less than the minimimum size required of "+n);var t=e.readByte("message.version");if(1!==t)throw new Error("Unsupported message version number: "+t);var r=e.readFixedHex("message.parent1MessageId",T.MESSAGE_ID_LENGTH),i=e.readFixedHex("message.parent2MessageId",T.MESSAGE_ID_LENGTH),o=O.deserializePayload(e),a=e.readUInt64("message.nonce"),s=e.unused();if(0!==s)throw new Error("Message data length "+e.length()+" has unused data "+s);return{version:t,payload:o,parent1MessageId:r,parent2MessageId:i,nonce:Number(a)}},t.serializeMessage=function(e,t){var n,i;e.writeByte("message.version",t.version),e.writeFixedHex("message.parent1MessageId",T.MESSAGE_ID_LENGTH,null!==(n=t.parent1MessageId)&&void 0!==n?n:r),e.writeFixedHex("message.parent2MessageId",T.MESSAGE_ID_LENGTH,null!==(i=t.parent2MessageId)&&void 0!==i?i:r),O.serializePayload(e,t.payload),e.writeUInt64("message.nonce",BigInt(t.nonce))}})),L=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SingleNodeClient=void 0;var a=function(){function e(e){if(!/^https?:\/\/\w+(\.\w+)*(:\d+)?(\/.*)?$/.test(e))throw new Error("The endpoint is not in the correct format");this._endpoint=e.replace(/\/+$/,"")}return e.prototype.health=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.fetchStatus("/health")];case 1:if(200===(e=t.sent()))return[2,!0];if(503===e)return[2,!1];throw new o.ClientError("Unexpected response code","/health",e)}}))}))},e.prototype.info=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.fetchJson("get","/api/v1/info")]}))}))},e.prototype.tips=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.fetchJson("get","/api/v1/tips")]}))}))},e.prototype.message=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e)]}))}))},e.prototype.messageMetadata=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e+"/metadata")]}))}))},e.prototype.messageRaw=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchBinary("get","/api/v1/messages/"+e+"/raw")]}))}))},e.prototype.messageSubmit=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetchJson("post","/api/v1/messages",e)];case 1:return[2,t.sent().messageId]}}))}))},e.prototype.messageSubmitRaw=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetchBinary("post","/api/v1/messages",e)];case 1:return[2,t.sent().messageId]}}))}))},e.prototype.messagesFind=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages?index="+encodeURIComponent(e))]}))}))},e.prototype.messageChildren=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e+"/children")]}))}))},e.prototype.output=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/outputs/"+e)]}))}))},e.prototype.address=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/addresses/"+e)]}))}))},e.prototype.addressOutputs=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/addresses/"+e+"/outputs")]}))}))},e.prototype.milestone=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/milestones/"+e)]}))}))},e.prototype.fetchStatus=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,fetch(""+this._endpoint+e,{method:"get"})];case 1:return[2,t.sent().status]}}))}))},e.prototype.fetchJson=function(e,t,n){var a,s,u;return r(this,void 0,void 0,(function(){var r,h;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+this._endpoint+t,{method:e,headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0})];case 1:return[4,(r=i.sent()).json()];case 2:if(h=i.sent(),r.ok&&!h.error)return[2,h.data];throw new o.ClientError(null!==(s=null===(a=h.error)||void 0===a?void 0:a.message)&&void 0!==s?s:r.statusText,t,r.status,null===(u=h.error)||void 0===u?void 0:u.code)}}))}))},e.prototype.fetchBinary=function(e,t,n){var a,s,u;return r(this,void 0,void 0,(function(){var r,h,c;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+this._endpoint+t,{method:e,headers:{"Content-Type":"application/octet-stream"},body:n})];case 1:return(r=i.sent()).ok?"get"!==e?[3,3]:(c=Uint8Array.bind,[4,r.arrayBuffer()]):[3,5];case 2:return[2,new(c.apply(Uint8Array,[void 0,i.sent()]))];case 3:return[4,r.json()];case 4:if(!(null==(h=i.sent())?void 0:h.error))return[2,null==h?void 0:h.data];i.label=5;case 5:return h?[3,7]:[4,r.json()];case 6:h=i.sent(),i.label=7;case 7:throw new o.ClientError(null!==(s=null===(a=null==h?void 0:h.error)||void 0===a?void 0:a.message)&&void 0!==s?s:r.statusText,t,r.status,null===(u=null==h?void 0:h.error)||void 0===u?void 0:u.code)}}))}))},e}();n.SingleNodeClient=a})),P=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Bech32=void 0;var n=function(){function e(){}return e.encode=function(t,n){return e.encode5BitArray(t,e.to5Bit(n))},e.encode5BitArray=function(t,n){for(var r=e.createChecksum(t,n),i=""+t+e.SEPARATOR,o=0;o<n.length;o++)i+=e.CHARSET.charAt(n[o]);for(o=0;o<r.length;o++)i+=e.CHARSET.charAt(r[o]);return i},e.decode=function(t){var n=e.decodeTo5BitArray(t);return n?{humanReadablePart:n.humanReadablePart,data:e.from5Bit(n.data)}:void 0},e.decodeTo5BitArray=function(t){var n=(t=t.toLowerCase()).lastIndexOf(e.SEPARATOR);if(-1===n)throw new Error("There is no separator character "+e.SEPARATOR+" in the data");if(n<1)throw new Error("The separator position is "+n+", which is too early in the string");if(n+7>t.length)throw new Error("The separator position is "+n+", which doesn't leave enough space for data");for(var r=new Uint8Array(t.length-n-1),i=0,o=n+1;o<t.length;o++){if(-1===e.CHARSET.indexOf(t.charAt(o)))throw new Error("Data contains characters not in the charset "+t.charAt(o));r[i++]=e.CHARSET.indexOf(t.charAt(o))}var a=t.slice(0,n);if(e.verifyChecksum(a,r))return{humanReadablePart:a,data:r.slice(0,-6)}},e.to5Bit=function(t){return e.convertBits(t,8,5,!0)},e.from5Bit=function(t){return e.convertBits(t,5,8,!1)},e.createChecksum=function(t,n){var r=e.humanReadablePartExpand(t),i=new Uint8Array(r.length+n.length+6);i.set(r,0),i.set(n,r.length),i.set([0,0,0,0,0,0],r.length+n.length);for(var o=1^e.polymod(i),a=new Uint8Array(6),s=0;s<6;s++)a[s]=o>>5*(5-s)&31;return a},e.verifyChecksum=function(t,n){var r=e.humanReadablePartExpand(t),i=new Uint8Array(r.length+n.length);return i.set(r,0),i.set(n,r.length),1===e.polymod(i)},e.polymod=function(t){for(var n=1,r=0;r<t.length;r++){var i=n>>25;n=(33554431&n)<<5^t[r];for(var o=0;o<5;++o)i>>o&1&&(n^=e.GENERATOR[o])}return n},e.humanReadablePartExpand=function(e){for(var t=new Uint8Array(2*e.length+1),n=0,r=0;r<e.length;r++)t[n++]=e.charCodeAt(r)>>5;t[n++]=0;for(r=0;r<e.length;r++)t[n++]=31&e.charCodeAt(r);return t},e.convertBits=function(e,t,n,r){for(var i=0,o=0,a=(1<<n)-1,s=[],u=0;u<e.length;u++)for(i=i<<t|e[u],o+=t;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=t)throw new Error("Excess padding");if(i<<n-o&a)throw new Error("Non-zero padding")}return new Uint8Array(s)},e.CHARSET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e.SEPARATOR="1",e.GENERATOR=Uint32Array.from([996825010,642813549,513874426,1027748829,705979059]),e}();t.Bech32=n})),k=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Bip32Path=void 0;var n=function(){function e(e){e?(this._path=e.split("/"),"m"===this._path[0]&&this._path.shift()):this._path=[]}return e.prototype.toString=function(){return this._path.length>0?"m/"+this._path.join("/"):"m"},e.prototype.push=function(e){this._path.push(""+e)},e.prototype.pushHardened=function(e){this._path.push(e+"'")},e.prototype.pop=function(){this._path.pop()},e.prototype.numberSegments=function(){return this._path.map((function(e){return Number.parseInt(e,10)}))},e}();t.Bip32Path=n})),B=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;var n=function(){function e(){}return e.bytesToAscii=function(e,t,n){for(var r="",i=null!=n?n:e.length,o=null!=t?t:0,a=0;a<i;a++)r+=String.fromCharCode(e[o+a]);return r},e.asciiToBytes=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},e.bytesToHex=function(t,n,r,i){var o="";if(this.buildHexLookups(),e.ENCODE_LOOKUP){var a=null!=r?r:t.length,s=null!=n?n:0;if(i)for(var u=0;u<a;u++)o=e.ENCODE_LOOKUP[t[s+u]]+o;else for(u=0;u<a;u++)o+=e.ENCODE_LOOKUP[t[s+u]]}return o},e.hexToBytes=function(t,n){var r=t.length>>1,i=r<<1,o=new Uint8Array(r);if(this.buildHexLookups(),e.DECODE_LOOKUP){for(var a=0,s=0;a<i;)o[s++]=e.DECODE_LOOKUP[t.charCodeAt(a++)]<<4|e.DECODE_LOOKUP[t.charCodeAt(a++)];n&&o.reverse()}return o},e.asciiToHex=function(t){return e.bytesToHex(e.asciiToBytes(t))},e.hexToAscii=function(t){return e.bytesToAscii(e.hexToBytes(t))},e.buildHexLookups=function(){if(!e.ENCODE_LOOKUP||!e.DECODE_LOOKUP){var t="0123456789abcdef";e.ENCODE_LOOKUP=[],e.DECODE_LOOKUP=[];for(var n=0;n<256;n++)e.ENCODE_LOOKUP[n]=t[n>>4&15]+t[15&n],n<16&&(n<10?e.DECODE_LOOKUP[48+n]=n:e.DECODE_LOOKUP[87+n]=n)}},e}();t.Converter=n})),G=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha512=void 0;var n=function(){function e(e){void 0===e&&(e=512),this._blocks=[],this._blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384===e?(this._h0h=3418070365,this._h0l=3238371032,this._h1h=1654270250,this._h1l=914150663,this._h2h=2438529370,this._h2l=812702999,this._h3h=355462360,this._h3l=4144912697,this._h4h=1731405415,this._h4l=4290775857,this._h5h=2394180231,this._h5l=1750603025,this._h6h=3675008525,this._h6l=1694076839,this._h7h=1203062813,this._h7l=3204075428):256===e?(this._h0h=573645204,this._h0l=4230739756,this._h1h=2673172387,this._h1l=3360449730,this._h2h=596883563,this._h2l=1867755857,this._h3h=2520282905,this._h3l=1497426621,this._h4h=2519219938,this._h4l=2827943907,this._h5h=3193839141,this._h5l=1401305490,this._h6h=721525244,this._h6l=746961066,this._h7h=246885852,this._h7l=2177182882):224===e?(this._h0h=2352822216,this._h0l=424955298,this._h1h=1944164710,this._h1l=2312950998,this._h2h=502970286,this._h2l=855612546,this._h3h=1738396948,this._h3l=1479516111,this._h4h=258812777,this._h4l=2077511080,this._h5h=2011393907,this._h5l=79989058,this._h6h=1067287976,this._h6l=1780299464,this._h7h=286451373,this._h7l=2446758561):(this._h0h=1779033703,this._h0l=4089235720,this._h1h=3144134277,this._h1l=2227873595,this._h2h=1013904242,this._h2l=4271175723,this._h3h=2773480762,this._h3l=1595750129,this._h4h=1359893119,this._h4l=2917565137,this._h5h=2600822924,this._h5l=725511199,this._h6h=528734635,this._h6l=4215389547,this._h7h=1541459225,this._h7l=327033209),this._bits=e,this._block=0,this._start=0,this._bytes=0,this._hBytes=0,this._lastByteIndex=0,this._finalized=!1,this._hashed=!1}return e.prototype.update=function(t){if(this._finalized)throw new Error("The hash has already been finalized.");for(var n,r=0,i=t.length,o=this._blocks;r<i;){for(this._hashed&&(this._hashed=!1,o[0]=this._block,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=0,o[16]=0,o[17]=0,o[18]=0,o[19]=0,o[20]=0,o[21]=0,o[22]=0,o[23]=0,o[24]=0,o[25]=0,o[26]=0,o[27]=0,o[28]=0,o[29]=0,o[30]=0,o[31]=0,o[32]=0),n=this._start;r<i&&n<128;++r)o[n>>2]|=t[r]<<e.SHIFT[3&n++];this._lastByteIndex=n,this._bytes+=n-this._start,n>=128?(this._block=o[32],this._start=n-128,this.hash(),this._hashed=!0):this._start=n}return this._bytes>4294967295&&(this._hBytes+=Math.trunc(this._bytes/4294967296),this._bytes%=4294967296),this},e.prototype.digest=function(){this.finalize();var e=this._h0h,t=this._h0l,n=this._h1h,r=this._h1l,i=this._h2h,o=this._h2l,a=this._h3h,s=this._h3l,u=this._h4h,h=this._h4l,c=this._h5h,l=this._h5l,f=this._h6h,d=this._h6l,_=this._h7h,p=this._h7l,y=this._bits,v=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return y>=256&&v.push(s>>24&255,s>>16&255,s>>8&255,255&s),y>=384&&v.push(u>>24&255,u>>16&255,u>>8&255,255&u,h>>24&255,h>>16&255,h>>8&255,255&h,c>>24&255,c>>16&255,c>>8&255,255&c,l>>24&255,l>>16&255,l>>8&255,255&l),512===y&&v.push(f>>24&255,f>>16&255,f>>8&255,255&f,d>>24&255,d>>16&255,d>>8&255,255&d,_>>24&255,_>>16&255,_>>8&255,255&_,p>>24&255,p>>16&255,p>>8&255,255&p),Uint8Array.from(v)},e.prototype.finalize=function(){if(!this._finalized){this._finalized=!0;var t=this._blocks,n=this._lastByteIndex;t[32]=this._block,t[n>>2]|=e.EXTRA[3&n],this._block=t[32],n>=112&&(this._hashed||this.hash(),t[0]=this._block,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=0,t[19]=0,t[20]=0,t[21]=0,t[22]=0,t[23]=0,t[24]=0,t[25]=0,t[26]=0,t[27]=0,t[28]=0,t[29]=0,t[30]=0,t[31]=0,t[32]=0),t[30]=this._hBytes<<3|this._bytes>>>29,t[31]=this._bytes<<3,this.hash()}},e.prototype.hash=function(){var t,n,r,i,o,a,s,u,h,c,l,f,d,_,p,y,v,g,E,w,b,I,T,A,m,N=this._h0h,S=this._h0l,U=this._h1h,x=this._h1l,O=this._h2h,M=this._h2l,L=this._h3h,P=this._h3l,k=this._h4h,B=this._h4l,G=this._h5h,H=this._h5l,z=this._h6h,C=this._h6l,R=this._h7h,D=this._h7l,K=this._blocks;for(t=32;t<160;t+=2)n=((w=K[t-30])>>>1|(b=K[t-29])<<31)^(w>>>8|b<<24)^w>>>7,r=(b>>>1|w<<31)^(b>>>8|w<<24)^(b>>>7|w<<25),i=((w=K[t-4])>>>19|(b=K[t-3])<<13)^(b>>>29|w<<3)^w>>>6,o=(b>>>19|w<<13)^(w>>>29|b<<3)^(b>>>6|w<<26),w=K[t-32],b=K[t-31],h=((I=K[t-14])>>>16)+(w>>>16)+(n>>>16)+(i>>>16)+((u=(65535&I)+(65535&w)+(65535&n)+(65535&i)+((s=((T=K[t-13])>>>16)+(b>>>16)+(r>>>16)+(o>>>16)+((a=(65535&T)+(65535&b)+(65535&r)+(65535&o))>>>16))>>>16))>>>16),K[t]=h<<16|65535&u,K[t+1]=s<<16|65535&a;var j=N,Y=S,Z=U,F=x,q=O,X=M,J=L,W=P,V=k,$=B,Q=G,ee=H,te=z,ne=C,re=R,ie=D;for(y=Z&q,v=F&X,t=0;t<160;t+=8)n=(j>>>28|Y<<4)^(Y>>>2|j<<30)^(Y>>>7|j<<25),r=(Y>>>28|j<<4)^(j>>>2|Y<<30)^(j>>>7|Y<<25),i=(V>>>14|$<<18)^(V>>>18|$<<14)^($>>>9|V<<23),o=($>>>14|V<<18)^($>>>18|V<<14)^(V>>>9|$<<23),g=(c=j&Z)^j&q^y,E=(l=Y&F)^Y&X^v,A=V&Q^~V&te,m=$&ee^~$&ne,w=K[t],b=K[t+1],w=(h=((I=e.K[t])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(re>>>16)+((u=(65535&I)+(65535&w)+(65535&A)+(65535&i)+(65535&re)+((s=((T=e.K[t+1])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ie>>>16)+((a=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&ie))>>>16))>>>16))>>>16))<<16|65535&u,b=s<<16|65535&a,I=(h=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((s=(E>>>16)+(r>>>16)+((a=(65535&E)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=s<<16|65535&a,re=(h=(J>>>16)+(w>>>16)+((u=(65535&J)+(65535&w)+((s=(W>>>16)+(b>>>16)+((a=(65535&W)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ie=s<<16|65535&a,n=((J=(h=(I>>>16)+(w>>>16)+((u=(65535&I)+(65535&w)+((s=(T>>>16)+(b>>>16)+((a=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(W=s<<16|65535&a)<<4)^(W>>>2|J<<30)^(W>>>7|J<<25),r=(W>>>28|J<<4)^(J>>>2|W<<30)^(J>>>7|W<<25),i=(re>>>14|ie<<18)^(re>>>18|ie<<14)^(ie>>>9|re<<23),o=(ie>>>14|re<<18)^(ie>>>18|re<<14)^(re>>>9|ie<<23),g=(f=J&j)^J&Z^c,E=(d=W&Y)^W&F^l,A=re&V^~re&Q,m=ie&$^~ie&ee,w=K[t+2],b=K[t+3],w=(h=((I=e.K[t+2])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(te>>>16)+((u=(65535&I)+(65535&w)+(65535&A)+(65535&i)+(65535&te)+((s=((T=e.K[t+3])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ne>>>16)+((a=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&ne))>>>16))>>>16))>>>16))<<16|65535&u,b=s<<16|65535&a,I=(h=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((s=(E>>>16)+(r>>>16)+((a=(65535&E)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=s<<16|65535&a,te=(h=(q>>>16)+(w>>>16)+((u=(65535&q)+(65535&w)+((s=(X>>>16)+(b>>>16)+((a=(65535&X)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ne=s<<16|65535&a,n=((q=(h=(I>>>16)+(w>>>16)+((u=(65535&I)+(65535&w)+((s=(T>>>16)+(b>>>16)+((a=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(X=s<<16|65535&a)<<4)^(X>>>2|q<<30)^(X>>>7|q<<25),r=(X>>>28|q<<4)^(q>>>2|X<<30)^(q>>>7|X<<25),i=(te>>>14|ne<<18)^(te>>>18|ne<<14)^(ne>>>9|te<<23),o=(ne>>>14|te<<18)^(ne>>>18|te<<14)^(te>>>9|ne<<23),g=(_=q&J)^q&j^f,E=(p=X&W)^X&Y^d,A=te&re^~te&V,m=ne&ie^~ne&$,w=K[t+4],b=K[t+5],w=(h=((I=e.K[t+4])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(Q>>>16)+((u=(65535&I)+(65535&w)+(65535&A)+(65535&i)+(65535&Q)+((s=((T=e.K[t+5])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ee>>>16)+((a=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&ee))>>>16))>>>16))>>>16))<<16|65535&u,b=s<<16|65535&a,I=(h=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((s=(E>>>16)+(r>>>16)+((a=(65535&E)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=s<<16|65535&a,Q=(h=(Z>>>16)+(w>>>16)+((u=(65535&Z)+(65535&w)+((s=(F>>>16)+(b>>>16)+((a=(65535&F)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ee=s<<16|65535&a,n=((Z=(h=(I>>>16)+(w>>>16)+((u=(65535&I)+(65535&w)+((s=(T>>>16)+(b>>>16)+((a=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(F=s<<16|65535&a)<<4)^(F>>>2|Z<<30)^(F>>>7|Z<<25),r=(F>>>28|Z<<4)^(Z>>>2|F<<30)^(Z>>>7|F<<25),i=(Q>>>14|ee<<18)^(Q>>>18|ee<<14)^(ee>>>9|Q<<23),o=(ee>>>14|Q<<18)^(ee>>>18|Q<<14)^(Q>>>9|ee<<23),g=(y=Z&q)^Z&J^_,E=(v=F&X)^F&W^p,A=Q&te^~Q&re,m=ee&ne^~ee&ie,w=K[t+6],b=K[t+7],w=(h=((I=e.K[t+6])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(V>>>16)+((u=(65535&I)+(65535&w)+(65535&A)+(65535&i)+(65535&V)+((s=((T=e.K[t+7])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+($>>>16)+((a=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&$))>>>16))>>>16))>>>16))<<16|65535&u,b=s<<16|65535&a,I=(h=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((s=(E>>>16)+(r>>>16)+((a=(65535&E)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=s<<16|65535&a,V=(h=(j>>>16)+(w>>>16)+((u=(65535&j)+(65535&w)+((s=(Y>>>16)+(b>>>16)+((a=(65535&Y)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,$=s<<16|65535&a,j=(h=(I>>>16)+(w>>>16)+((u=(65535&I)+(65535&w)+((s=(T>>>16)+(b>>>16)+((a=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,Y=s<<16|65535&a;h=(N>>>16)+(j>>>16)+((u=(65535&N)+(65535&j)+((s=(S>>>16)+(Y>>>16)+((a=(65535&S)+(65535&Y))>>>16))>>>16))>>>16),this._h0h=h<<16|65535&u,this._h0l=s<<16|65535&a,h=(U>>>16)+(Z>>>16)+((u=(65535&U)+(65535&Z)+((s=(x>>>16)+(F>>>16)+((a=(65535&x)+(65535&F))>>>16))>>>16))>>>16),this._h1h=h<<16|65535&u,this._h1l=s<<16|65535&a,h=(O>>>16)+(q>>>16)+((u=(65535&O)+(65535&q)+((s=(M>>>16)+(X>>>16)+((a=(65535&M)+(65535&X))>>>16))>>>16))>>>16),this._h2h=h<<16|65535&u,this._h2l=s<<16|65535&a,h=(L>>>16)+(J>>>16)+((u=(65535&L)+(65535&J)+((s=(P>>>16)+(W>>>16)+((a=(65535&P)+(65535&W))>>>16))>>>16))>>>16),this._h3h=h<<16|65535&u,this._h3l=s<<16|65535&a,h=(k>>>16)+(V>>>16)+((u=(65535&k)+(65535&V)+((s=(B>>>16)+($>>>16)+((a=(65535&B)+(65535&$))>>>16))>>>16))>>>16),this._h4h=h<<16|65535&u,this._h4l=s<<16|65535&a,h=(G>>>16)+(Q>>>16)+((u=(65535&G)+(65535&Q)+((s=(H>>>16)+(ee>>>16)+((a=(65535&H)+(65535&ee))>>>16))>>>16))>>>16),this._h5h=h<<16|65535&u,this._h5l=s<<16|65535&a,h=(z>>>16)+(te>>>16)+((u=(65535&z)+(65535&te)+((s=(C>>>16)+(ne>>>16)+((a=(65535&C)+(65535&ne))>>>16))>>>16))>>>16),this._h6h=h<<16|65535&u,this._h6l=s<<16|65535&a,h=(R>>>16)+(re>>>16)+((u=(65535&R)+(65535&re)+((s=(D>>>16)+(ie>>>16)+((a=(65535&D)+(65535&ie))>>>16))>>>16))>>>16),this._h7h=h<<16|65535&u,this._h7l=s<<16|65535&a},e.EXTRA=[-2147483648,8388608,32768,128],e.SHIFT=[24,16,8,0],e.K=Uint32Array.from([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),e}();t.Sha512=n})),H=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HmacSha512=void 0;var n=function(){function e(e,t){void 0===t&&(t=512),this._bits=t,this._sha512=new G.Sha512(t),e.length>128&&(e=new G.Sha512(t).digest()),this._oKeyPad=new Uint8Array(128);for(var n=new Uint8Array(128),r=0;r<128;++r){var i=e[r]||0;this._oKeyPad[r]=92^i,n[r]=54^i}this._sha512.update(n)}return e.prototype.update=function(e){return this._sha512.update(e),this},e.prototype.digest=function(){var e=this._sha512.digest(),t=new G.Sha512(this._bits);return t.update(this._oKeyPad),t.update(e),t.digest()},e}();t.HmacSha512=n})),z=n((function(t,n){var r=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.Slip0010=void 0;var a=o(E),s=function(){function e(){}return e.getMasterKeyFromSeed=function(e){var t=new H.HmacSha512(B.Converter.asciiToBytes("ed25519 seed")).update(e).digest();return{privateKey:Uint8Array.from(t.slice(0,32)),chainCode:Uint8Array.from(t.slice(32))}},e.derivePath=function(t,n){for(var r=e.getMasterKeyFromSeed(t),i=r.privateKey,o=r.chainCode,a=n.numberSegments(),s=0;s<a.length;s++){var u=2147483648+a[s],h=new Uint8Array(1+i.length+4);h[0]=0,h.set(i,1),h[i.length+1]=u>>>24,h[i.length+2]=u>>>16,h[i.length+3]=u>>>8,h[i.length+4]=255&u;var c=new H.HmacSha512(o).update(h).digest();i=Uint8Array.from(c.slice(0,32)),o=Uint8Array.from(c.slice(32))}return{privateKey:i,chainCode:o}},e.getPublicKey=function(e,t){void 0===t&&(t=!0);var n=a.sign.keyPair.fromSeed(e).secretKey.slice(32);if(t){var r=new Uint8Array(1+n.length);return r[0]=0,r.set(n,1),r}return n},e}();n.Slip0010=s})),C=n((function(t,n){var r=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.Ed25519Seed=void 0;var a=o(E),s=function(){function e(){this._secretKey=new Uint8Array}return e.fromBytes=function(t){var n=new e;return n._secretKey=t,n},e.random=function(){return e.fromBytes(a.randomBytes(e.SEED_SIZE_BYTES))},e.prototype.keyPair=function(){var e=a.sign.keyPair.fromSeed(this._secretKey);return{publicKey:e.publicKey,privateKey:e.secretKey}},e.prototype.generateSeedFromPath=function(t){var n=z.Slip0010.derivePath(this._secretKey,t);return e.fromBytes(n.privateKey)},e.prototype.toBytes=function(){return this._secretKey},e.SEED_SIZE_BYTES=32,e}();n.Ed25519Seed=s})),R=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha3=void 0;var n=function(){function e(e,t,n){this._padding=t,this._outputBits=n,this._blockCount=1600-(e<<1)>>5,this._byteCount=this._blockCount<<2,this._outputBlocks=n>>5,this._extraBytes=(31&n)>>3,this._reset=!0,this._block=0,this._start=0,this._blocks=new Uint32Array(this._blockCount+1),this._state=new Uint32Array(50),this._lastByteIndex=0}return e.sha3=function(t){return new e(t,e.SHA3_PADDING,t)},e.keccak=function(t){return new e(t,e.KECCAK_PADDING,t)},e.prototype.reset=function(){this._reset=!0,this._block=0,this._start=0,this._blocks=new Uint32Array(this._blockCount+1),this._state=new Uint32Array(50),this._lastByteIndex=0},e.prototype.update=function(t){for(var n,r=new Uint8Array(t),i=r.length,o=0;o<i;){if(this._reset)for(this._reset=!1,this._blocks[0]=this._block,n=1;n<this._blockCount+1;++n)this._blocks[n]=0;for(n=this._start;o<i&&n<this._byteCount;++o)this._blocks[n>>2]|=r[o]<<e.SHIFT[3&n++];if(this._lastByteIndex=n,n>=this._byteCount){for(this._start=n-this._byteCount,this._block=this._blocks[this._blockCount],n=0;n<this._blockCount;++n)this._state[n]^=this._blocks[n];this.keccakPermutation(this._state),this._reset=!0}else this._start=n}return this},e.prototype.digest=function(){this.finalize();for(var e=0,t=0,n=this._outputBits>>3,r=new ArrayBuffer(this._extraBytes?this._outputBlocks+1<<2:n),i=new Uint32Array(r);t<this._outputBlocks;)for(e=0;e<this._blockCount&&t<this._outputBlocks;++e,++t)i[t]=this._state[e];return this._extraBytes&&(i[e]=this._state[e],r=r.slice(0,n)),this.reset(),new Uint8Array(r)},e.prototype.finalize=function(){var e=this._lastByteIndex;if(this._blocks[e>>2]|=this._padding[3&e],this._lastByteIndex===this._byteCount)for(this._blocks[0]=this._blocks[this._blockCount],e=1;e<this._blockCount+1;++e)this._blocks[e]=0;for(this._blocks[this._blockCount-1]|=2147483648,e=0;e<this._blockCount;++e)this._state[e]^=this._blocks[e];this.keccakPermutation(this._state)},e.prototype.keccakPermutation=function(t){var n,r,i,o=new Uint32Array(50),a=new Uint32Array(10);for(i=0;i<48;i+=2)a[0]=t[0]^t[10]^t[20]^t[30]^t[40],a[1]=t[1]^t[11]^t[21]^t[31]^t[41],a[2]=t[2]^t[12]^t[22]^t[32]^t[42],a[3]=t[3]^t[13]^t[23]^t[33]^t[43],a[4]=t[4]^t[14]^t[24]^t[34]^t[44],a[5]=t[5]^t[15]^t[25]^t[35]^t[45],a[6]=t[6]^t[16]^t[26]^t[36]^t[46],a[7]=t[7]^t[17]^t[27]^t[37]^t[47],a[8]=t[8]^t[18]^t[28]^t[38]^t[48],a[9]=t[9]^t[19]^t[29]^t[39]^t[49],n=a[8]^(a[2]<<1|a[3]>>>31),r=a[9]^(a[3]<<1|a[2]>>>31),t[0]^=n,t[1]^=r,t[10]^=n,t[11]^=r,t[20]^=n,t[21]^=r,t[30]^=n,t[31]^=r,t[40]^=n,t[41]^=r,n=a[0]^(a[4]<<1|a[5]>>>31),r=a[1]^(a[5]<<1|a[4]>>>31),t[2]^=n,t[3]^=r,t[12]^=n,t[13]^=r,t[22]^=n,t[23]^=r,t[32]^=n,t[33]^=r,t[42]^=n,t[43]^=r,n=a[2]^(a[6]<<1|a[7]>>>31),r=a[3]^(a[7]<<1|a[6]>>>31),t[4]^=n,t[5]^=r,t[14]^=n,t[15]^=r,t[24]^=n,t[25]^=r,t[34]^=n,t[35]^=r,t[44]^=n,t[45]^=r,n=a[4]^(a[8]<<1|a[9]>>>31),r=a[5]^(a[9]<<1|a[8]>>>31),t[6]^=n,t[7]^=r,t[16]^=n,t[17]^=r,t[26]^=n,t[27]^=r,t[36]^=n,t[37]^=r,t[46]^=n,t[47]^=r,n=a[6]^(a[0]<<1|a[1]>>>31),r=a[7]^(a[1]<<1|a[0]>>>31),t[8]^=n,t[9]^=r,t[18]^=n,t[19]^=r,t[28]^=n,t[29]^=r,t[38]^=n,t[39]^=r,t[48]^=n,t[49]^=r,o[0]=t[0],o[1]=t[1],o[32]=t[11]<<4|t[10]>>>28,o[33]=t[10]<<4|t[11]>>>28,o[14]=t[20]<<3|t[21]>>>29,o[15]=t[21]<<3|t[20]>>>29,o[46]=t[31]<<9|t[30]>>>23,o[47]=t[30]<<9|t[31]>>>23,o[28]=t[40]<<18|t[41]>>>14,o[29]=t[41]<<18|t[40]>>>14,o[20]=t[2]<<1|t[3]>>>31,o[21]=t[3]<<1|t[2]>>>31,o[2]=t[13]<<12|t[12]>>>20,o[3]=t[12]<<12|t[13]>>>20,o[34]=t[22]<<10|t[23]>>>22,o[35]=t[23]<<10|t[22]>>>22,o[16]=t[33]<<13|t[32]>>>19,o[17]=t[32]<<13|t[33]>>>19,o[48]=t[42]<<2|t[43]>>>30,o[49]=t[43]<<2|t[42]>>>30,o[40]=t[5]<<30|t[4]>>>2,o[41]=t[4]<<30|t[5]>>>2,o[22]=t[14]<<6|t[15]>>>26,o[23]=t[15]<<6|t[14]>>>26,o[4]=t[25]<<11|t[24]>>>21,o[5]=t[24]<<11|t[25]>>>21,o[36]=t[34]<<15|t[35]>>>17,o[37]=t[35]<<15|t[34]>>>17,o[18]=t[45]<<29|t[44]>>>3,o[19]=t[44]<<29|t[45]>>>3,o[10]=t[6]<<28|t[7]>>>4,o[11]=t[7]<<28|t[6]>>>4,o[42]=t[17]<<23|t[16]>>>9,o[43]=t[16]<<23|t[17]>>>9,o[24]=t[26]<<25|t[27]>>>7,o[25]=t[27]<<25|t[26]>>>7,o[6]=t[36]<<21|t[37]>>>11,o[7]=t[37]<<21|t[36]>>>11,o[38]=t[47]<<24|t[46]>>>8,o[39]=t[46]<<24|t[47]>>>8,o[30]=t[8]<<27|t[9]>>>5,o[31]=t[9]<<27|t[8]>>>5,o[12]=t[18]<<20|t[19]>>>12,o[13]=t[19]<<20|t[18]>>>12,o[44]=t[29]<<7|t[28]>>>25,o[45]=t[28]<<7|t[29]>>>25,o[26]=t[38]<<8|t[39]>>>24,o[27]=t[39]<<8|t[38]>>>24,o[8]=t[48]<<14|t[49]>>>18,o[9]=t[49]<<14|t[48]>>>18,t[0]=o[0]^~o[2]&o[4],t[1]=o[1]^~o[3]&o[5],t[10]=o[10]^~o[12]&o[14],t[11]=o[11]^~o[13]&o[15],t[20]=o[20]^~o[22]&o[24],t[21]=o[21]^~o[23]&o[25],t[30]=o[30]^~o[32]&o[34],t[31]=o[31]^~o[33]&o[35],t[40]=o[40]^~o[42]&o[44],t[41]=o[41]^~o[43]&o[45],t[2]=o[2]^~o[4]&o[6],t[3]=o[3]^~o[5]&o[7],t[12]=o[12]^~o[14]&o[16],t[13]=o[13]^~o[15]&o[17],t[22]=o[22]^~o[24]&o[26],t[23]=o[23]^~o[25]&o[27],t[32]=o[32]^~o[34]&o[36],t[33]=o[33]^~o[35]&o[37],t[42]=o[42]^~o[44]&o[46],t[43]=o[43]^~o[45]&o[47],t[4]=o[4]^~o[6]&o[8],t[5]=o[5]^~o[7]&o[9],t[14]=o[14]^~o[16]&o[18],t[15]=o[15]^~o[17]&o[19],t[24]=o[24]^~o[26]&o[28],t[25]=o[25]^~o[27]&o[29],t[34]=o[34]^~o[36]&o[38],t[35]=o[35]^~o[37]&o[39],t[44]=o[44]^~o[46]&o[48],t[45]=o[45]^~o[47]&o[49],t[6]=o[6]^~o[8]&o[0],t[7]=o[7]^~o[9]&o[1],t[16]=o[16]^~o[18]&o[10],t[17]=o[17]^~o[19]&o[11],t[26]=o[26]^~o[28]&o[20],t[27]=o[27]^~o[29]&o[21],t[36]=o[36]^~o[38]&o[30],t[37]=o[37]^~o[39]&o[31],t[46]=o[46]^~o[48]&o[40],t[47]=o[47]^~o[49]&o[41],t[8]=o[8]^~o[0]&o[2],t[9]=o[9]^~o[1]&o[3],t[18]=o[18]^~o[10]&o[12],t[19]=o[19]^~o[11]&o[13],t[28]=o[28]^~o[20]&o[22],t[29]=o[29]^~o[21]&o[23],t[38]=o[38]^~o[30]&o[32],t[39]=o[39]^~o[31]&o[33],t[48]=o[48]^~o[40]&o[42],t[49]=o[49]^~o[41]&o[43],t[0]^=e.ROUND_CONSTANTS[i],t[1]^=e.ROUND_CONSTANTS[i+1]},e.KECCAK_PADDING=new Uint32Array([1,256,65536,16777216]),e.SHA3_PADDING=new Uint32Array([6,1536,393216,100663296]),e.SHIFT=new Uint8Array([0,8,16,24]),e.ROUND_CONSTANTS=new Uint32Array([1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648]),e}();t.Sha3=n})),D=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.getUnspentAddresses=void 0,n.getUnspentAddresses=function(e,t,n,o,a){return r(this,void 0,void 0,(function(){var r,s,u,h,c,l,f;return i(this,(function(i){switch(i.label){case 0:r=null!=o?o:0,s=null!=a?a:Number.MAX_SAFE_INTEGER,u=!1,h=[],i.label=1;case 1:return n.push(r),c=t.generateSeedFromPath(n).keyPair(),n.pop(),l=B.Converter.bytesToHex(I.Ed25519.publicKeyToAddress(c.publicKey)),[4,e.address(l)];case 2:0===(f=i.sent()).count?u=!0:(h.push({address:l,index:r,balance:f.balance}),h.length===s&&(u=!0)),r++,i.label=3;case 3:if(!u)return[3,1];i.label=4;case 4:return[2,h]}}))}))}})),K=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBalance=void 0,n.getBalance=function(e,t,n,o){return void 0===o&&(o=0),r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,D.getUnspentAddresses(e,t,n,o)];case 1:return[2,r.sent().reduce((function(e,t){return e+t.balance}),0)]}}))}))}})),j=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.getUnspentAddress=void 0,n.getUnspentAddress=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,D.getUnspentAddresses(e,t,n,o,1)];case 1:return[2,(r=i.sent()).length>0?r[0]:void 0]}}))}))}})),Y=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.retrieveData=void 0,n.retrieveData=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,e.message(t)];case 1:return(null==(n=i.sent())?void 0:n.payload)&&(r=void 0,0===n.payload.type?r=n.payload.essence.payload:2===n.payload.type&&(r=n.payload),r)?[2,{index:r.index,data:B.Converter.hexToBytes(r.data)}]:[2]}}))}))}})),Z=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WriteStream=void 0;var n=function(){function e(){this._storage=new Uint8Array(e.CHUNK_SIZE),this._writeIndex=0}return e.prototype.length=function(){return this._storage.length},e.prototype.unused=function(){return this._storage.length-this._writeIndex},e.prototype.finalBytes=function(){return this._storage.subarray(0,this._writeIndex)},e.prototype.finalHex=function(){return B.Converter.bytesToHex(this._storage.subarray(0,this._writeIndex))},e.prototype.getWriteIndex=function(){return this._writeIndex},e.prototype.setWriteIndex=function(e){this._writeIndex=e},e.prototype.writeFixedHex=function(e,t,n){if(!T.isHex(n))throw new Error("The "+n+" should be in hex format");if(2*t!==n.length)throw new Error(e+" length "+n.length+" does not match expected length "+2*t);this.expand(t),this._storage.set(B.Converter.hexToBytes(n),this._writeIndex),this._writeIndex+=t},e.prototype.writeBytes=function(e,t,n){this.expand(t),this._storage.set(n,this._writeIndex),this._writeIndex+=t},e.prototype.writeByte=function(e,t){this.expand(1),this._storage[this._writeIndex++]=255&t},e.prototype.writeUInt16=function(e,t){this.expand(2),this._storage[this._writeIndex++]=255&t,this._storage[this._writeIndex++]=t>>>8},e.prototype.writeUInt32=function(e,t){this.expand(4),this._storage[this._writeIndex++]=255&t,this._storage[this._writeIndex++]=t>>>8,this._storage[this._writeIndex++]=t>>>16,this._storage[this._writeIndex++]=t>>>24},e.prototype.writeUInt64=function(e,t){this.expand(8);var n=t.toString(16).padStart(16,"0"),r=B.Converter.hexToBytes(n,!0);this._storage.set(r,this._writeIndex),this._writeIndex+=8},e.prototype.writeString=function(e,t){return this.writeUInt16(e,t.length),this.expand(t.length),this._storage.set(B.Converter.asciiToBytes(t),this._writeIndex),this._writeIndex+=t.length,t},e.prototype.expand=function(t){if(this._writeIndex+t>this._storage.byteLength){var n=new Uint8Array(this._storage.length+e.CHUNK_SIZE);n.set(this._storage,0),this._storage=n}},e.CHUNK_SIZE=4096,e}();t.WriteStream=n})),F=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.sendAdvanced=void 0,n.sendAdvanced=function(e,t,n,o,a,s,u){return r(this,void 0,void 0,(function(){var r,h,c,l,f,d,_,p,y,v,g,E,w,b,T,A,U,x,O,M,L,P,k,G,H,z,C,R,D,K,j,Y;return i(this,(function(i){switch(i.label){case 0:if(!o||0===o.length)throw new Error("You must specify some outputs");r=o.reduce((function(e,t){return e+t.amount}),0),h=null!=a?a:0,c=0,l=[],f=!1,i.label=1;case 1:return n.push(h),d=t.generateSeedFromPath(n).keyPair(),n.pop(),_=B.Converter.bytesToHex(I.Ed25519.publicKeyToAddress(d.publicKey)),[4,e.addressOutputs(_)];case 2:return 0!==(p=i.sent()).count?[3,3]:(f=!0,[3,7]);case 3:y=0,v=p.outputIds,i.label=4;case 4:return y<v.length?(g=v[y],[4,e.output(g)]):[3,7];case 5:!(E=i.sent()).isSpent&&c<r&&(0===E.output.amount?f=!0:(c+=E.output.amount,R={type:0,transactionId:E.transactionId,transactionOutputIndex:E.outputIndex},x=new Z.WriteStream,m.serializeInput(x,R),l.push({input:R,addressKeyPair:d,serialized:x.finalHex()}),c>=r&&(c-r>0&&o.push({amount:c-r,address:_}),f=!0))),i.label=6;case 6:return y++,[3,4];case 7:h++,i.label=8;case 8:if(!f)return[3,1];i.label=9;case 9:if(c<r)throw new Error("There are not enough funds in the inputs for the required balance");for(w=[],b=0,T=o;b<T.length;b++)A=T[b],U={type:0,address:{type:1,address:A.address},amount:A.amount},x=new Z.WriteStream,N.serializeOutput(x,U),w.push({output:U,serialized:x.finalHex()});for(O=l.sort((function(e,t){return e.serialized.localeCompare(t.serialized)})),M=w.sort((function(e,t){return e.serialized.localeCompare(t.serialized)})),L={type:0,inputs:O.map((function(e){return e.input})),outputs:M.map((function(e){return e.output})),payload:s&&u?{type:2,index:s,data:B.Converter.bytesToHex(u)}:void 0},P=new Z.WriteStream,S.serializeTransactionEssence(P,L),k=P.finalBytes(),G=[],H={},z=0,C=O;z<C.length;z++)R=C[z],D=B.Converter.bytesToHex(R.addressKeyPair.publicKey),H[D]?G.push({type:1,reference:H[D].unlockIndex}):(G.push({type:0,signature:{type:1,publicKey:D,signature:B.Converter.bytesToHex(I.Ed25519.signData(R.addressKeyPair.privateKey,k))}}),H[D]={keyPair:R.addressKeyPair,unlockIndex:G.length-1});return K={type:0,essence:L,unlockBlocks:G},[4,e.tips()];case 10:return j=i.sent(),Y={version:1,parent1MessageId:j.tip1MessageId,parent2MessageId:j.tip2MessageId,payload:K,nonce:0},[4,e.messageSubmit(Y)];case 11:return[2,{messageId:i.sent(),message:Y}]}}))}))}})),q=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.send=void 0,n.send=function(e,t,n,o,a,s){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,F.sendAdvanced(e,t,n,[{address:o,amount:a}],s)];case 1:return[2,{messageId:(r=i.sent()).messageId,message:r.message}]}}))}))}})),X=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.sendData=void 0,n.sendData=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o,a,s;return i(this,(function(i){switch(i.label){case 0:return r={type:2,index:t,data:B.Converter.bytesToHex(n)},[4,e.tips()];case 1:return o=i.sent(),a={version:1,parent1MessageId:o.tip1MessageId,parent2MessageId:o.tip2MessageId,payload:r,nonce:0},[4,e.messageSubmit(a)];case 2:return s=i.sent(),[2,{message:a,messageId:s}]}}))}))}})),J=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),W=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),V=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),$=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Q=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ee=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),te=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ne=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),re=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ie=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),oe=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ae=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),se=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ue=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),he=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.logUnlockBlock=t.logOutput=t.logInput=t.logSignature=t.logAddress=t.logPayload=t.logMessage=t.setLogger=void 0;var n=function(e,t){return void 0!==t?console.log(e,t):console.log(e)};function r(e,t){if(t)if(0===t.type){var i=t;if(n(e+"Transaction Payload"),0===i.essence.type){if(i.essence.inputs){n(e+"\tInputs:",i.essence.inputs.length);for(var o=0,h=i.essence.inputs;o<h.length;o++){a(e+"\t\t",h[o])}}if(i.essence.outputs){n(e+"\tOutputs:",i.essence.outputs.length);for(var c=0,l=i.essence.outputs;c<l.length;c++){s(e+"\t\t",l[c])}}r(e+"\t",i.essence.payload)}if(i.unlockBlocks){n(e+"\tUnlock Blocks:",i.unlockBlocks.length);for(var f=0,d=i.unlockBlocks;f<d.length;f++){u(e+"\t\t",d[f])}}}else if(1===t.type){i=t;n(e+"Milestone Payload"),n(e+"\tIndex:",i.index),n(e+"\tTimestamp:",i.timestamp),n(e+"\tInclusion Merkle Proof:",i.inclusionMerkleProof),n(e+"\tSignatures:",i.signatures)}else if(2===t.type){i=t;n(e+"Indexation Payload"),n(e+"\tIndex:",i.index),n(e+"\tData:",B.Converter.hexToAscii(i.data))}}function i(e,t){if(t&&1===t.type){var r=t;n(e+"Ed25519 Address"),n(e+"\tAddress:",r.address)}}function o(e,t){if(t&&1===t.type){var r=t;n(e+"Ed25519 Signature"),n(e+"\tPublic Key:",r.publicKey),n(e+"\tSignature:",r.signature)}}function a(e,t){if(t&&0===t.type){var r=t;n(e+"UTXO Input"),n(e+"\tTransaction Id:",r.transactionId),n(e+"\tTransaction Output Index:",r.transactionOutputIndex)}}function s(e,t){if(t&&0===t.type){var r=t;n(e+"Signature Locked Single Output"),i(e+"\t\t",r.address),n(e+"\t\tAmount:",r.amount)}}function u(e,t){if(t)if(0===t.type){var r=t;n(e+"\tSignature Unlock Block"),o(e+"\t\t\t",r.signature)}else if(1===t.type){r=t;n(e+"\tReference Unlock Block"),n(e+"\t\tReference:",r.reference)}}t.setLogger=function(e){n=e},t.logMessage=function(e,t){n(e+"\tVersion:",t.version),n(e+"\tParent 1 Message Id:",t.parent1MessageId),n(e+"\tParent 2 Message Id:",t.parent2MessageId),r(e+"\t",t.payload),void 0!==t.nonce&&n(e+"\tNonce:",t.nonce)},t.logPayload=r,t.logAddress=i,t.logSignature=o,t.logInput=a,t.logOutput=s,t.logUnlockBlock=u})),ce=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStream=void 0;var n=function(){function e(e,t){void 0===t&&(t=0),this._storage=new Uint8Array(e),this._readIndex=t}return e.prototype.length=function(){return this._storage.byteLength},e.prototype.hasRemaining=function(e){return this._readIndex+e<=this._storage.byteLength},e.prototype.unused=function(){return this._storage.byteLength-this._readIndex},e.prototype.readFixedHex=function(e,t,n){if(void 0===n&&(n=!0),!this.hasRemaining(t))throw new Error(e+" length "+t+" exceeds the remaining data "+this.unused());var r=B.Converter.bytesToHex(this._storage,this._readIndex,t);return n&&(this._readIndex+=t),r},e.prototype.readBytes=function(e,t,n){if(void 0===n&&(n=!0),!this.hasRemaining(t))throw new Error(e+" length "+t+" exceeds the remaining data "+this.unused());var r=this._storage.slice(this._readIndex,this._readIndex+t);return n&&(this._readIndex+=t),r},e.prototype.readByte=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(1))throw new Error(e+" length 1 exceeds the remaining data "+this.unused());var n=this._storage[this._readIndex];return t&&(this._readIndex+=1),n},e.prototype.readUInt16=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(2))throw new Error(e+" length 2 exceeds the remaining data "+this.unused());var n=this._storage[this._readIndex]|this._storage[this._readIndex+1]<<8;return t&&(this._readIndex+=2),n},e.prototype.readUInt32=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(4))throw new Error(e+" length 4 exceeds the remaining data "+this.unused());var n=this._storage[this._readIndex]|256*this._storage[this._readIndex+1]|65536*this._storage[this._readIndex+2]+16777216*this._storage[this._readIndex+3];return t&&(this._readIndex+=4),n},e.prototype.readUInt64=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(8))throw new Error(e+" length 8 exceeds the remaining data "+this.unused());var n=BigInt("0x"+B.Converter.bytesToHex(this._storage,this._readIndex,8,!0));return t&&(this._readIndex+=8),n},e.prototype.readString=function(e,t){void 0===t&&(t=!0);var n=this.readUInt16(e);if(!this.hasRemaining(n))throw new Error(e+" length "+n+" exceeds the remaining data "+this.unused());var r=B.Converter.bytesToAscii(this._storage,this._readIndex,n);return t&&(this._readIndex+=n),r},e}();t.ReadStream=n})),le=n((function(t,n){var r=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(o,n),i(a,n),i(s,n),i(u,n),i(h,n),i(c,n),i(l,n),i(f,n),i(d,n),i(_,n),i(p,n),i(y,n),i(v,n),i(A,n),i(T,n),i(m,n),i(M,n),i(N,n),i(O,n),i(U,n),i(S,n),i(x,n),i(L,n),i(P,n),i(k,n),i(b,n),i(I,n),i(C,n),i(H,n),i(R,n),i(G,n),i(z,n),i(K,n),i(j,n),i(D,n),i(Y,n),i(q,n),i(F,n),i(X,n),i(J,n),i(W,n),i(V,n),i($,n),i(Q,n),i(ee,n),i(te,n),i(ne,n),i(re,n),i(ie,n),i(oe,n),i(ae,n),i(se,n),i(ue,n),i(B,n),i(he,n),i(ce,n),i(Z,n)}));return t(n((function(t,n){var r=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(le,n)})))}));