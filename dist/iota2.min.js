!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("node-fetch"),require("tweetnacl")):"function"==typeof define&&define.amd?define(["node-fetch","tweetnacl"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Iota2=t(e["node-fetch"],e.tweetnacl)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),i=n(t),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var u=a((function(e,t){var n,r=o&&o.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var i=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.route=n,o.httpStatus=r,o.code=i,o}return r(t,e),t}(Error);t.ClientError=i})),l=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),h=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),c=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),d=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),f=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),_=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),p=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),y=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),v=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),g=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),I=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),E=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),b=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayHelper=void 0;var n=function(){function e(){}return e.equal=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},e}();t.ArrayHelper=n})),w=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Blake2b=void 0;var n=function(){function e(){this._v=new Uint32Array(32),this._m=new Uint32Array(32)}return e.sum256=function(t){var n=new e,r=n.init(e.SIZE_256);return n.update(r,t),n.final(r)},e.sum512=function(t){var n=new e,r=n.init(e.SIZE_512);return n.update(r,t),n.final(r)},e.prototype.compress=function(t,n){var r=0;for(r=0;r<16;r++)this._v[r]=t.h[r],this._v[r+16]=e.BLAKE2B_IV32[r];for(this._v[24]^=t.t,this._v[25]^=t.t/4294967296,n&&(this._v[28]=~this._v[28],this._v[29]=~this._v[29]),r=0;r<32;r++)this._m[r]=this.b2bGet32(t.b,4*r);for(r=0;r<12;r++)this.b2bG(0,8,16,24,e.SIGMA82[16*r+0],e.SIGMA82[16*r+1]),this.b2bG(2,10,18,26,e.SIGMA82[16*r+2],e.SIGMA82[16*r+3]),this.b2bG(4,12,20,28,e.SIGMA82[16*r+4],e.SIGMA82[16*r+5]),this.b2bG(6,14,22,30,e.SIGMA82[16*r+6],e.SIGMA82[16*r+7]),this.b2bG(0,10,20,30,e.SIGMA82[16*r+8],e.SIGMA82[16*r+9]),this.b2bG(2,12,22,24,e.SIGMA82[16*r+10],e.SIGMA82[16*r+11]),this.b2bG(4,14,16,26,e.SIGMA82[16*r+12],e.SIGMA82[16*r+13]),this.b2bG(6,8,18,28,e.SIGMA82[16*r+14],e.SIGMA82[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^this._v[r]^this._v[r+16]},e.prototype.init=function(t,n){if(t<=0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(n&&n.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},i=0;i<16;i++)r.h[i]=e.BLAKE2B_IV32[i];var o=n?n.length:0;return r.h[0]^=16842752^o<<8^t,n&&(this.update(r,n),r.c=128),r},e.prototype.update=function(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,this.compress(e,!1),e.c=0),e.b[e.c++]=t[n]},e.prototype.final=function(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;this.compress(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t},e.prototype.add64AA=function(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i},e.prototype.add64AC=function(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var o=e[t+1]+r;i>=4294967296&&o++,e[t]=i,e[t+1]=o},e.prototype.b2bGet32=function(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24},e.prototype.b2bG=function(e,t,n,r,i,o){var s=this._m[i],a=this._m[i+1],u=this._m[o],l=this._m[o+1];this.add64AA(this._v,e,t),this.add64AC(this._v,e,s,a);var h=this._v[r]^this._v[e],c=this._v[r+1]^this._v[e+1];this._v[r]=c,this._v[r+1]=h,this.add64AA(this._v,n,r),h=this._v[t]^this._v[n],c=this._v[t+1]^this._v[n+1],this._v[t]=h>>>24^c<<8,this._v[t+1]=c>>>24^h<<8,this.add64AA(this._v,e,t),this.add64AC(this._v,e,u,l),h=this._v[r]^this._v[e],c=this._v[r+1]^this._v[e+1],this._v[r]=h>>>16^c<<16,this._v[r+1]=c>>>16^h<<16,this.add64AA(this._v,n,r),h=this._v[t]^this._v[n],c=this._v[t+1]^this._v[n+1],this._v[t]=c>>>31^h<<1,this._v[t+1]=h>>>31^c<<1},e.SIZE_256=32,e.SIZE_512=64,e.BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),e.SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],e.SIGMA82=new Uint8Array(e.SIGMA8.map((function(e){return 2*e}))),e}();t.Blake2b=n})),T=a((function(e,t){var n=o&&o.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25519=void 0;var a=s(i.default),u=function(){function e(){}return e.signData=function(e,t){return a.sign.detached(t,e)},e.verifyData=function(e,t,n){return a.sign.detached.verify(n,t,e)},e.publicKeyToAddress=function(e){return w.Blake2b.sum256(e)},e.verifyAddress=function(t,n){return b.ArrayHelper.equal(e.publicKeyToAddress(t),n)},e.PUBLIC_KEY_SIZE=32,e.SIGNATURE_SIZE=64,e.ADDRESS_LENGTH=w.Blake2b.SIZE_256,e}();t.Ed25519=u})),N=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHex=t.ARRAY_LENGTH=t.STRING_LENGTH=t.SMALL_TYPE_LENGTH=t.TYPE_LENGTH=t.TRANSACTION_ID_LENGTH=t.MESSAGE_ID_LENGTH=t.UINT64_SIZE=t.UINT32_SIZE=t.UINT16_SIZE=t.BYTE_SIZE=void 0,t.BYTE_SIZE=1,t.UINT16_SIZE=2,t.UINT32_SIZE=4,t.UINT64_SIZE=8,t.MESSAGE_ID_LENGTH=w.Blake2b.SIZE_256,t.TRANSACTION_ID_LENGTH=w.Blake2b.SIZE_256,t.TYPE_LENGTH=t.UINT32_SIZE,t.SMALL_TYPE_LENGTH=t.BYTE_SIZE,t.STRING_LENGTH=t.UINT16_SIZE,t.ARRAY_LENGTH=t.UINT16_SIZE,t.isHex=function(e){return e.length%2!=1&&/[\da-f]/gi.test(e)}})),m=a((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_ED25519_ADDRESS_LENGTH))throw new Error("Ed25519 address data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ED25519_ADDRESS_LENGTH);var n=e.readByte("ed25519Address.type");if(1!==n)throw new Error("Type mismatch in ed25519Address "+n);return{type:n,address:e.readFixedHex("ed25519Address.address",T.Ed25519.ADDRESS_LENGTH)}}function r(e,t){e.writeByte("ed25519Address.type",t.type),e.writeFixedHex("ed25519Address.address",T.Ed25519.ADDRESS_LENGTH,t.address)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEd25519Address=t.deserializeEd25519Address=t.serializeAddress=t.deserializeAddress=t.MIN_ED25519_ADDRESS_LENGTH=t.MIN_ADDRESS_LENGTH=void 0,t.MIN_ADDRESS_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_ED25519_ADDRESS_LENGTH=t.MIN_ADDRESS_LENGTH+T.Ed25519.ADDRESS_LENGTH,t.deserializeAddress=function(e){if(!e.hasRemaining(t.MIN_ADDRESS_LENGTH))throw new Error("Address data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ADDRESS_LENGTH);var r=e.readByte("address.type",!1);if(1!==r)throw new Error("Unrecognized address type "+r);return n(e)},t.serializeAddress=function(e,t){if(1!==t.type)throw new Error("Unrecognized address type "+t.type);r(e,t)},t.deserializeEd25519Address=n,t.serializeEd25519Address=r})),S=a((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_INPUT_LENGTH))throw new Error("Input data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_INPUT_LENGTH);var n=e.readByte("input.type",!1);if(0!==n)throw new Error("Unrecognized input type "+n);return i(e)}function r(e,t){if(0!==t.type)throw new Error("Unrecognized input type "+t.type);o(e,t)}function i(e){if(!e.hasRemaining(t.MIN_UTXO_INPUT_LENGTH))throw new Error("UTXO Input data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_UTXO_INPUT_LENGTH);var n=e.readByte("utxoInput.type");if(0!==n)throw new Error("Type mismatch in utxoInput "+n);return{type:n,transactionId:e.readFixedHex("utxoInput.transactionId",N.TRANSACTION_ID_LENGTH),transactionOutputIndex:e.readUInt16("utxoInput.transactionOutputIndex")}}function o(e,t){e.writeByte("utxoInput.type",t.type),e.writeFixedHex("utxoInput.transactionId",N.TRANSACTION_ID_LENGTH,t.transactionId),e.writeUInt16("utxoInput.transactionOutputIndex",t.transactionOutputIndex)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeUTXOInput=t.deserializeUTXOInput=t.serializeInput=t.deserializeInput=t.serializeInputs=t.deserializeInputs=t.MIN_UTXO_INPUT_LENGTH=t.MIN_INPUT_LENGTH=void 0,t.MIN_INPUT_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_UTXO_INPUT_LENGTH=t.MIN_INPUT_LENGTH+N.TRANSACTION_ID_LENGTH+N.UINT16_SIZE,t.deserializeInputs=function(e){for(var t=e.readUInt16("inputs.numInputs"),r=[],i=0;i<t;i++)r.push(n(e));return r},t.serializeInputs=function(e,t){e.writeUInt16("inputs.numInputs",t.length);for(var n=0;n<t.length;n++)r(e,t[n])},t.deserializeInput=n,t.serializeInput=r,t.deserializeUTXOInput=i,t.serializeUTXOInput=o})),A=a((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_OUTPUT_LENGTH))throw new Error("Output data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_OUTPUT_LENGTH);var n=e.readByte("output.type",!1);if(0!==n)throw new Error("Unrecognized output type "+n);return i(e)}function r(e,t){if(0!==t.type)throw new Error("Unrecognized output type "+t.type);o(e,t)}function i(e){if(!e.hasRemaining(t.MIN_SIG_LOCKED_OUTPUT_LENGTH))throw new Error("Signature Locked Single Output data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIG_LOCKED_OUTPUT_LENGTH);var n=e.readByte("sigLockedSingleOutput.type");if(0!==n)throw new Error("Type mismatch in sigLockedSingleOutput "+n);var r=m.deserializeAddress(e),i=e.readUInt64("sigLockedSingleOutput.amount");return{type:n,address:r,amount:Number(i)}}function o(e,t){e.writeByte("sigLockedSingleOutput.type",t.type),m.serializeAddress(e,t.address),e.writeUInt64("sigLockedSingleOutput.amount",BigInt(t.amount))}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeSigLockedSingleOutput=t.deserializeSigLockedSingleOutput=t.serializeOutput=t.deserializeOutput=t.serializeOutputs=t.deserializeOutputs=t.MIN_SIG_LOCKED_OUTPUT_LENGTH=t.MIN_OUTPUT_LENGTH=void 0,t.MIN_OUTPUT_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_SIG_LOCKED_OUTPUT_LENGTH=t.MIN_OUTPUT_LENGTH+m.MIN_ADDRESS_LENGTH+m.MIN_ED25519_ADDRESS_LENGTH,t.deserializeOutputs=function(e){for(var t=e.readUInt16("outputs.numOutputs"),r=[],i=0;i<t;i++)r.push(n(e));return r},t.serializeOutputs=function(e,t){e.writeUInt16("outputs.numOutputs",t.length);for(var n=0;n<t.length;n++)r(e,t[n])},t.deserializeOutput=n,t.serializeOutput=r,t.deserializeSigLockedSingleOutput=i,t.serializeSigLockedSingleOutput=o})),O=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransactionEssence=t.deserializeTransactionEssence=t.MIN_TRANSACTION_ESSENCE_LENGTH=void 0,t.MIN_TRANSACTION_ESSENCE_LENGTH=N.UINT32_SIZE+2*N.ARRAY_LENGTH+N.UINT32_SIZE,t.deserializeTransactionEssence=function(e){if(!e.hasRemaining(t.MIN_TRANSACTION_ESSENCE_LENGTH))throw new Error("Transaction essence data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_TRANSACTION_ESSENCE_LENGTH);var n=e.readUInt32("transactionEssence.type");if(0!==n)throw new Error("Type mismatch in transactionEssence "+n);var r=S.deserializeInputs(e),i=A.deserializeOutputs(e),o=M.deserializePayload(e);if(o&&2!==o.type)throw new Error("Transaction essence can only contain embedded Indexation Payload");return{type:n,inputs:r,outputs:i,payload:o}},t.serializeTransactionEssence=function(e,t){e.writeUInt32("transactionEssence.type",t.type),S.serializeInputs(e,t.inputs),A.serializeOutputs(e,t.outputs),M.serializePayload(e,t.payload)}})),U=a((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_ED25519_SIGNATURE_LENGTH))throw new Error("Ed25519 signature data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ED25519_SIGNATURE_LENGTH);var n=e.readByte("ed25519Signature.type");if(1!==n)throw new Error("Type mismatch in ed25519Signature "+n);return{type:n,publicKey:e.readFixedHex("ed25519Signature.publicKey",T.Ed25519.PUBLIC_KEY_SIZE),signature:e.readFixedHex("ed25519Signature.signature",T.Ed25519.SIGNATURE_SIZE)}}function r(e,t){e.writeByte("ed25519Signature.type",t.type),e.writeFixedHex("ed25519Signature.publicKey",T.Ed25519.PUBLIC_KEY_SIZE,t.publicKey),e.writeFixedHex("ed25519Signature.signature",T.Ed25519.SIGNATURE_SIZE,t.signature)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEd25519Signature=t.deserializeEd25519Signature=t.serializeSignature=t.deserializeSignature=t.MIN_ED25519_SIGNATURE_LENGTH=t.MIN_SIGNATURE_LENGTH=void 0,t.MIN_SIGNATURE_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_ED25519_SIGNATURE_LENGTH=t.MIN_SIGNATURE_LENGTH+T.Ed25519.SIGNATURE_SIZE+T.Ed25519.PUBLIC_KEY_SIZE,t.deserializeSignature=function(e){if(!e.hasRemaining(t.MIN_SIGNATURE_LENGTH))throw new Error("Signature data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIGNATURE_LENGTH);var r=e.readByte("signature.type",!1);if(1!==r)throw new Error("Unrecognized signature type "+r);return n(e)},t.serializeSignature=function(e,t){if(1!==t.type)throw new Error("Unrecognized signature type "+t.type);r(e,t)},t.deserializeEd25519Signature=n,t.serializeEd25519Signature=r})),x=a((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_UNLOCK_BLOCK_LENGTH))throw new Error("Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_UNLOCK_BLOCK_LENGTH);var n,r=e.readByte("unlockBlock.type",!1);if(0===r)n=i(e);else{if(1!==r)throw new Error("Unrecognized unlock block type "+r);n=s(e)}return n}function r(e,t){if(0===t.type)o(e,t);else{if(1!==t.type)throw new Error("Unrecognized unlock block type "+t.type);a(e,t)}}function i(e){if(!e.hasRemaining(t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH))throw new Error("Signature Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH);var n=e.readByte("signatureUnlockBlock.type");if(0!==n)throw new Error("Type mismatch in signatureUnlockBlock "+n);return{type:n,signature:U.deserializeSignature(e)}}function o(e,t){e.writeByte("signatureUnlockBlock.type",t.type),U.serializeSignature(e,t.signature)}function s(e){if(!e.hasRemaining(t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH))throw new Error("Reference Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH);var n=e.readByte("referenceUnlockBlock.type");if(1!==n)throw new Error("Type mismatch in referenceUnlockBlock "+n);return{type:n,reference:e.readUInt16("referenceUnlockBlock.reference")}}function a(e,t){e.writeByte("referenceUnlockBlock.type",t.type),e.writeUInt16("referenceUnlockBlock.reference",t.reference)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeReferenceUnlockBlock=t.deserializeReferenceUnlockBlock=t.serializeSignatureUnlockBlock=t.deserializeSignatureUnlockBlock=t.serializeUnlockBlock=t.deserializeUnlockBlock=t.serializeUnlockBlocks=t.deserializeUnlockBlocks=t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH=t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH=void 0,t.MIN_UNLOCK_BLOCK_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH+U.MIN_SIGNATURE_LENGTH,t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH+N.UINT16_SIZE,t.deserializeUnlockBlocks=function(e){for(var t=e.readUInt16("transactionEssence.numUnlockBlocks"),r=[],i=0;i<t;i++)r.push(n(e));return r},t.serializeUnlockBlocks=function(e,t){e.writeUInt16("transactionEssence.numUnlockBlocks",t.length);for(var n=0;n<t.length;n++)r(e,t[n])},t.deserializeUnlockBlock=n,t.serializeUnlockBlock=r,t.deserializeSignatureUnlockBlock=i,t.serializeSignatureUnlockBlock=o,t.deserializeReferenceUnlockBlock=s,t.serializeReferenceUnlockBlock=a})),M=a((function(e,t){function n(e){if(!e.hasRemaining(t.MIN_TRANSACTION_PAYLOAD_LENGTH))throw new Error("Transaction Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_TRANSACTION_PAYLOAD_LENGTH);var n=e.readUInt32("payloadTransaction.type");if(0!==n)throw new Error("Type mismatch in payloadTransaction "+n);if(0!==e.readUInt32("payloadTransaction.essenceType",!1))throw new Error("Unrecognized transaction essence type "+n);return{type:n,essence:O.deserializeTransactionEssence(e),unlockBlocks:x.deserializeUnlockBlocks(e)}}function r(e,t){if(e.writeUInt32("payloadMilestone.type",t.type),0!==t.type)throw new Error("Unrecognized transaction type "+t.type);O.serializeTransactionEssence(e,t.essence),x.serializeUnlockBlocks(e,t.unlockBlocks)}function i(e){if(!e.hasRemaining(t.MIN_MILESTONE_PAYLOAD_LENGTH))throw new Error("Milestone Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_MILESTONE_PAYLOAD_LENGTH);var n=e.readUInt32("payloadMilestone.type");if(1!==n)throw new Error("Type mismatch in payloadMilestone "+n);for(var r=e.readUInt64("payloadMilestone.index"),i=e.readUInt64("payloadMilestone.timestamp"),o=e.readFixedHex("payloadMilestone.inclusionMerkleProof",64),s=e.readByte("payloadMilestone.signaturesCount"),a=[],u=0;u<s;u++)a.push(e.readFixedHex("payloadMilestone.signature",64));return{type:n,index:Number(r),timestamp:Number(i),inclusionMerkleProof:o,signatures:a}}function o(e,t){e.writeUInt32("payloadMilestone.type",t.type),e.writeUInt64("payloadMilestone.index",BigInt(t.index)),e.writeUInt64("payloadMilestone.timestamp",BigInt(t.timestamp)),e.writeFixedHex("payloadMilestone.inclusionMerkleProof",64,t.inclusionMerkleProof),e.writeByte("payloadMilestone.signaturesCount",t.signatures.length);for(var n=0;n<t.signatures.length;n++)e.writeFixedHex("payloadMilestone.signature",64,t.signatures[n])}function s(e){if(!e.hasRemaining(t.MIN_INDEXATION_PAYLOAD_LENGTH))throw new Error("Indexation Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_INDEXATION_PAYLOAD_LENGTH);var n=e.readUInt32("payloadIndexation.type");if(2!==n)throw new Error("Type mismatch in payloadIndexation "+n);var r=e.readString("payloadIndexation.index"),i=e.readUInt32("payloadIndexation.dataLength");return{type:2,index:r,data:e.readFixedHex("payloadIndexation.data",i)}}function a(e,t){e.writeUInt32("payloadIndexation.type",t.type),e.writeString("payloadIndexation.index",t.index),e.writeUInt32("payloadIndexation.dataLength",t.data.length/2),e.writeFixedHex("payloadIndexation.data",t.data.length/2,t.data)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIndexationPayload=t.deserializeIndexationPayload=t.serializeMilestonePayload=t.deserializeMilestonePayload=t.serializeTransactionPayload=t.deserializeTransactionPayload=t.serializePayload=t.deserializePayload=t.MIN_TRANSACTION_PAYLOAD_LENGTH=t.MIN_INDEXATION_PAYLOAD_LENGTH=t.MIN_MILESTONE_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH=void 0,t.MIN_PAYLOAD_LENGTH=N.TYPE_LENGTH,t.MIN_MILESTONE_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+2*N.UINT64_SIZE+64+N.BYTE_SIZE,t.MIN_INDEXATION_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+N.STRING_LENGTH+N.STRING_LENGTH,t.MIN_TRANSACTION_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+N.UINT32_SIZE,t.deserializePayload=function(e){if(!e.hasRemaining(t.MIN_PAYLOAD_LENGTH))throw new Error("Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_PAYLOAD_LENGTH);var r,o=e.readUInt32("payload.length");if(!e.hasRemaining(o))throw new Error("Payload length "+o+" exceeds the remaining data "+e.unused());if(o>0){var a=e.readUInt32("payload.type",!1);if(0===a)r=n(e);else if(1===a)r=i(e);else{if(2!==a)throw new Error("Unrecognized payload type "+a);r=s(e)}}return r},t.serializePayload=function(e,t){var n=e.getWriteIndex();if(e.writeUInt32("payload.length",0),t)if(0===t.type)r(e,t);else if(1===t.type)o(e,t);else{if(2!==t.type)throw new Error("Unrecognized transaction type "+t.type);a(e,t)}else;var i=e.getWriteIndex();e.setWriteIndex(n),e.writeUInt32("payload.length",i-n-N.UINT32_SIZE),e.setWriteIndex(i)},t.deserializeTransactionPayload=n,t.serializeTransactionPayload=r,t.deserializeMilestonePayload=i,t.serializeMilestonePayload=o,t.deserializeIndexationPayload=s,t.serializeIndexationPayload=a})),L=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeMessage=t.deserializeMessage=void 0;var n=N.BYTE_SIZE+2*N.MESSAGE_ID_LENGTH+M.MIN_PAYLOAD_LENGTH+N.UINT64_SIZE,r="0".repeat(2*N.MESSAGE_ID_LENGTH);t.deserializeMessage=function(e){if(!e.hasRemaining(n))throw new Error("Message data is "+e.length()+" in length which is less than the minimimum size required of "+n);var t=e.readByte("message.version");if(1!==t)throw new Error("Unsupported message version number: "+t);var r=e.readFixedHex("message.parent1MessageId",N.MESSAGE_ID_LENGTH),i=e.readFixedHex("message.parent2MessageId",N.MESSAGE_ID_LENGTH),o=M.deserializePayload(e),s=e.readUInt64("message.nonce"),a=e.unused();if(0!==a)throw new Error("Message data length "+e.length()+" has unused data "+a);return{version:t,payload:o,parent1MessageId:r,parent2MessageId:i,nonce:Number(s)}},t.serializeMessage=function(e,t){var n,i;e.writeByte("message.version",t.version),e.writeFixedHex("message.parent1MessageId",N.MESSAGE_ID_LENGTH,null!==(n=t.parent1MessageId)&&void 0!==n?n:r),e.writeFixedHex("message.parent2MessageId",N.MESSAGE_ID_LENGTH,null!==(i=t.parent2MessageId)&&void 0!==i?i:r),M.serializePayload(e,t.payload),e.writeUInt64("message.nonce",BigInt(t.nonce))}})),P=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SingleNodeClient=void 0;var i=function(){function e(e){if(!/^https?:\/\/\w+(\.\w+)*(:\d+)?(\/.*)?$/.test(e))throw new Error("The endpoint is not in the correct format");this._endpoint=e.replace(/\/+$/,"")}return e.prototype.health=function(){return n(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,this.fetchStatus("/health")];case 1:if(200===(e=t.sent()))return[2,!0];if(503===e)return[2,!1];throw new u.ClientError("Unexpected response code","/health",e)}}))}))},e.prototype.info=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.fetchJson("get","/api/v1/info")]}))}))},e.prototype.tips=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.fetchJson("get","/api/v1/tips")]}))}))},e.prototype.message=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e)]}))}))},e.prototype.messageMetadata=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e+"/metadata")]}))}))},e.prototype.messageRaw=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchBinary("get","/api/v1/messages/"+e+"/raw")]}))}))},e.prototype.messageSubmit=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.fetchJson("post","/api/v1/messages",e)];case 1:return[2,t.sent().messageId]}}))}))},e.prototype.messageSubmitRaw=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.fetchBinary("post","/api/v1/messages",e)];case 1:return[2,t.sent().messageId]}}))}))},e.prototype.messagesFind=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages?index="+encodeURIComponent(e))]}))}))},e.prototype.messageChildren=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e+"/children")]}))}))},e.prototype.output=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/outputs/"+e)]}))}))},e.prototype.address=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/addresses/"+e)]}))}))},e.prototype.addressOutputs=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/addresses/"+e+"/outputs")]}))}))},e.prototype.milestone=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.fetchJson("get","/api/v1/milestones/"+e)]}))}))},e.prototype.fetchStatus=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,fetch(""+this._endpoint+e,{method:"get"})];case 1:return[2,t.sent().status]}}))}))},e.prototype.fetchJson=function(e,t,i){var o,s,a;return n(this,void 0,void 0,(function(){var n,l;return r(this,(function(r){switch(r.label){case 0:return[4,fetch(""+this._endpoint+t,{method:e,headers:{"Content-Type":"application/json"},body:i?JSON.stringify(i):void 0})];case 1:return[4,(n=r.sent()).json()];case 2:if(l=r.sent(),n.ok&&!l.error)return[2,l.data];throw new u.ClientError(null!==(s=null===(o=l.error)||void 0===o?void 0:o.message)&&void 0!==s?s:n.statusText,t,n.status,null===(a=l.error)||void 0===a?void 0:a.code)}}))}))},e.prototype.fetchBinary=function(e,t,i){var o,s,a;return n(this,void 0,void 0,(function(){var n,l,h;return r(this,(function(r){switch(r.label){case 0:return[4,fetch(""+this._endpoint+t,{method:e,headers:{"Content-Type":"application/octet-stream"},body:i})];case 1:return(n=r.sent()).ok?"get"!==e?[3,3]:(h=Uint8Array.bind,[4,n.arrayBuffer()]):[3,5];case 2:return[2,new(h.apply(Uint8Array,[void 0,r.sent()]))];case 3:return[4,n.json()];case 4:if(!(null==(l=r.sent())?void 0:l.error))return[2,null==l?void 0:l.data];r.label=5;case 5:return l?[3,7]:[4,n.json()];case 6:l=r.sent(),r.label=7;case 7:throw new u.ClientError(null!==(s=null===(o=null==l?void 0:l.error)||void 0===o?void 0:o.message)&&void 0!==s?s:n.statusText,t,n.status,null===(a=null==l?void 0:l.error)||void 0===a?void 0:a.code)}}))}))},e}();t.SingleNodeClient=i})),k=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Bip32Path=void 0;var n=function(){function e(e){e?(this._path=e.split("/"),"m"===this._path[0]&&this._path.shift()):this._path=[]}return e.prototype.toString=function(){return this._path.length>0?"m/"+this._path.join("/"):"m"},e.prototype.push=function(e){this._path.push(""+e)},e.prototype.pushHardened=function(e){this._path.push(e+"'")},e.prototype.pop=function(){this._path.pop()},e.prototype.numberSegments=function(){return this._path.map((function(e){return Number.parseInt(e,10)}))},e}();t.Bip32Path=n})),G=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;var n=function(){function e(){}return e.bytesToAscii=function(e,t,n){for(var r="",i=null!=n?n:e.length,o=null!=t?t:0,s=0;s<i;s++)r+=String.fromCharCode(e[o+s]);return r},e.asciiToBytes=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},e.bytesToHex=function(t,n,r,i){var o="";if(this.buildHexLookups(),e.ENCODE_LOOKUP){var s=null!=r?r:t.length,a=null!=n?n:0;if(i)for(var u=0;u<s;u++)o=e.ENCODE_LOOKUP[t[a+u]]+o;else for(u=0;u<s;u++)o+=e.ENCODE_LOOKUP[t[a+u]]}return o},e.hexToBytes=function(t,n){var r=t.length>>1,i=r<<1,o=new Uint8Array(r);if(this.buildHexLookups(),e.DECODE_LOOKUP){for(var s=0,a=0;s<i;)o[a++]=e.DECODE_LOOKUP[t.charCodeAt(s++)]<<4|e.DECODE_LOOKUP[t.charCodeAt(s++)];n&&o.reverse()}return o},e.asciiToHex=function(t){return e.bytesToHex(e.asciiToBytes(t))},e.hexToAscii=function(t){return e.bytesToAscii(e.hexToBytes(t))},e.buildHexLookups=function(){if(!e.ENCODE_LOOKUP||!e.DECODE_LOOKUP){var t="0123456789abcdef";e.ENCODE_LOOKUP=[],e.DECODE_LOOKUP=[];for(var n=0;n<256;n++)e.ENCODE_LOOKUP[n]=t[n>>4&15]+t[15&n],n<16&&(n<10?e.DECODE_LOOKUP[48+n]=n:e.DECODE_LOOKUP[87+n]=n)}},e}();t.Converter=n})),H=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha512=void 0;var n=function(){function e(e){void 0===e&&(e=512),this._blocks=[],this._blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384===e?(this._h0h=3418070365,this._h0l=3238371032,this._h1h=1654270250,this._h1l=914150663,this._h2h=2438529370,this._h2l=812702999,this._h3h=355462360,this._h3l=4144912697,this._h4h=1731405415,this._h4l=4290775857,this._h5h=2394180231,this._h5l=1750603025,this._h6h=3675008525,this._h6l=1694076839,this._h7h=1203062813,this._h7l=3204075428):256===e?(this._h0h=573645204,this._h0l=4230739756,this._h1h=2673172387,this._h1l=3360449730,this._h2h=596883563,this._h2l=1867755857,this._h3h=2520282905,this._h3l=1497426621,this._h4h=2519219938,this._h4l=2827943907,this._h5h=3193839141,this._h5l=1401305490,this._h6h=721525244,this._h6l=746961066,this._h7h=246885852,this._h7l=2177182882):224===e?(this._h0h=2352822216,this._h0l=424955298,this._h1h=1944164710,this._h1l=2312950998,this._h2h=502970286,this._h2l=855612546,this._h3h=1738396948,this._h3l=1479516111,this._h4h=258812777,this._h4l=2077511080,this._h5h=2011393907,this._h5l=79989058,this._h6h=1067287976,this._h6l=1780299464,this._h7h=286451373,this._h7l=2446758561):(this._h0h=1779033703,this._h0l=4089235720,this._h1h=3144134277,this._h1l=2227873595,this._h2h=1013904242,this._h2l=4271175723,this._h3h=2773480762,this._h3l=1595750129,this._h4h=1359893119,this._h4l=2917565137,this._h5h=2600822924,this._h5l=725511199,this._h6h=528734635,this._h6l=4215389547,this._h7h=1541459225,this._h7l=327033209),this._bits=e,this._block=0,this._start=0,this._bytes=0,this._hBytes=0,this._lastByteIndex=0,this._finalized=!1,this._hashed=!1}return e.prototype.update=function(t){if(this._finalized)throw new Error("The hash has already been finalized.");for(var n,r=0,i=t.length,o=this._blocks;r<i;){for(this._hashed&&(this._hashed=!1,o[0]=this._block,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=0,o[16]=0,o[17]=0,o[18]=0,o[19]=0,o[20]=0,o[21]=0,o[22]=0,o[23]=0,o[24]=0,o[25]=0,o[26]=0,o[27]=0,o[28]=0,o[29]=0,o[30]=0,o[31]=0,o[32]=0),n=this._start;r<i&&n<128;++r)o[n>>2]|=t[r]<<e.SHIFT[3&n++];this._lastByteIndex=n,this._bytes+=n-this._start,n>=128?(this._block=o[32],this._start=n-128,this.hash(),this._hashed=!0):this._start=n}return this._bytes>4294967295&&(this._hBytes+=Math.trunc(this._bytes/4294967296),this._bytes%=4294967296),this},e.prototype.digest=function(){this.finalize();var e=this._h0h,t=this._h0l,n=this._h1h,r=this._h1l,i=this._h2h,o=this._h2l,s=this._h3h,a=this._h3l,u=this._h4h,l=this._h4l,h=this._h5h,c=this._h5l,d=this._h6h,f=this._h6l,_=this._h7h,p=this._h7l,y=this._bits,v=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return y>=256&&v.push(a>>24&255,a>>16&255,a>>8&255,255&a),y>=384&&v.push(u>>24&255,u>>16&255,u>>8&255,255&u,l>>24&255,l>>16&255,l>>8&255,255&l,h>>24&255,h>>16&255,h>>8&255,255&h,c>>24&255,c>>16&255,c>>8&255,255&c),512===y&&v.push(d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,_>>24&255,_>>16&255,_>>8&255,255&_,p>>24&255,p>>16&255,p>>8&255,255&p),Uint8Array.from(v)},e.prototype.finalize=function(){if(!this._finalized){this._finalized=!0;var t=this._blocks,n=this._lastByteIndex;t[32]=this._block,t[n>>2]|=e.EXTRA[3&n],this._block=t[32],n>=112&&(this._hashed||this.hash(),t[0]=this._block,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=0,t[19]=0,t[20]=0,t[21]=0,t[22]=0,t[23]=0,t[24]=0,t[25]=0,t[26]=0,t[27]=0,t[28]=0,t[29]=0,t[30]=0,t[31]=0,t[32]=0),t[30]=this._hBytes<<3|this._bytes>>>29,t[31]=this._bytes<<3,this.hash()}},e.prototype.hash=function(){var t,n,r,i,o,s,a,u,l,h,c,d,f,_,p,y,v,g,I,E,b,w,T,N,m,S=this._h0h,A=this._h0l,O=this._h1h,U=this._h1l,x=this._h2h,M=this._h2l,L=this._h3h,P=this._h3l,k=this._h4h,G=this._h4l,H=this._h5h,B=this._h5l,C=this._h6h,z=this._h6l,D=this._h7h,K=this._h7l,R=this._blocks;for(t=32;t<160;t+=2)n=((E=R[t-30])>>>1|(b=R[t-29])<<31)^(E>>>8|b<<24)^E>>>7,r=(b>>>1|E<<31)^(b>>>8|E<<24)^(b>>>7|E<<25),i=((E=R[t-4])>>>19|(b=R[t-3])<<13)^(b>>>29|E<<3)^E>>>6,o=(b>>>19|E<<13)^(E>>>29|b<<3)^(b>>>6|E<<26),E=R[t-32],b=R[t-31],l=((w=R[t-14])>>>16)+(E>>>16)+(n>>>16)+(i>>>16)+((u=(65535&w)+(65535&E)+(65535&n)+(65535&i)+((a=((T=R[t-13])>>>16)+(b>>>16)+(r>>>16)+(o>>>16)+((s=(65535&T)+(65535&b)+(65535&r)+(65535&o))>>>16))>>>16))>>>16),R[t]=l<<16|65535&u,R[t+1]=a<<16|65535&s;var j=S,Z=A,Y=O,F=U,q=x,X=M,J=L,W=P,V=k,$=G,Q=H,ee=B,te=C,ne=z,re=D,ie=K;for(y=Y&q,v=F&X,t=0;t<160;t+=8)n=(j>>>28|Z<<4)^(Z>>>2|j<<30)^(Z>>>7|j<<25),r=(Z>>>28|j<<4)^(j>>>2|Z<<30)^(j>>>7|Z<<25),i=(V>>>14|$<<18)^(V>>>18|$<<14)^($>>>9|V<<23),o=($>>>14|V<<18)^($>>>18|V<<14)^(V>>>9|$<<23),g=(h=j&Y)^j&q^y,I=(c=Z&F)^Z&X^v,N=V&Q^~V&te,m=$&ee^~$&ne,E=R[t],b=R[t+1],E=(l=((w=e.K[t])>>>16)+(E>>>16)+(N>>>16)+(i>>>16)+(re>>>16)+((u=(65535&w)+(65535&E)+(65535&N)+(65535&i)+(65535&re)+((a=((T=e.K[t+1])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ie>>>16)+((s=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&ie))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((a=(I>>>16)+(r>>>16)+((s=(65535&I)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=a<<16|65535&s,re=(l=(J>>>16)+(E>>>16)+((u=(65535&J)+(65535&E)+((a=(W>>>16)+(b>>>16)+((s=(65535&W)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ie=a<<16|65535&s,n=((J=(l=(w>>>16)+(E>>>16)+((u=(65535&w)+(65535&E)+((a=(T>>>16)+(b>>>16)+((s=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(W=a<<16|65535&s)<<4)^(W>>>2|J<<30)^(W>>>7|J<<25),r=(W>>>28|J<<4)^(J>>>2|W<<30)^(J>>>7|W<<25),i=(re>>>14|ie<<18)^(re>>>18|ie<<14)^(ie>>>9|re<<23),o=(ie>>>14|re<<18)^(ie>>>18|re<<14)^(re>>>9|ie<<23),g=(d=J&j)^J&Y^h,I=(f=W&Z)^W&F^c,N=re&V^~re&Q,m=ie&$^~ie&ee,E=R[t+2],b=R[t+3],E=(l=((w=e.K[t+2])>>>16)+(E>>>16)+(N>>>16)+(i>>>16)+(te>>>16)+((u=(65535&w)+(65535&E)+(65535&N)+(65535&i)+(65535&te)+((a=((T=e.K[t+3])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ne>>>16)+((s=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&ne))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((a=(I>>>16)+(r>>>16)+((s=(65535&I)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=a<<16|65535&s,te=(l=(q>>>16)+(E>>>16)+((u=(65535&q)+(65535&E)+((a=(X>>>16)+(b>>>16)+((s=(65535&X)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ne=a<<16|65535&s,n=((q=(l=(w>>>16)+(E>>>16)+((u=(65535&w)+(65535&E)+((a=(T>>>16)+(b>>>16)+((s=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(X=a<<16|65535&s)<<4)^(X>>>2|q<<30)^(X>>>7|q<<25),r=(X>>>28|q<<4)^(q>>>2|X<<30)^(q>>>7|X<<25),i=(te>>>14|ne<<18)^(te>>>18|ne<<14)^(ne>>>9|te<<23),o=(ne>>>14|te<<18)^(ne>>>18|te<<14)^(te>>>9|ne<<23),g=(_=q&J)^q&j^d,I=(p=X&W)^X&Z^f,N=te&re^~te&V,m=ne&ie^~ne&$,E=R[t+4],b=R[t+5],E=(l=((w=e.K[t+4])>>>16)+(E>>>16)+(N>>>16)+(i>>>16)+(Q>>>16)+((u=(65535&w)+(65535&E)+(65535&N)+(65535&i)+(65535&Q)+((a=((T=e.K[t+5])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ee>>>16)+((s=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&ee))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((a=(I>>>16)+(r>>>16)+((s=(65535&I)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=a<<16|65535&s,Q=(l=(Y>>>16)+(E>>>16)+((u=(65535&Y)+(65535&E)+((a=(F>>>16)+(b>>>16)+((s=(65535&F)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ee=a<<16|65535&s,n=((Y=(l=(w>>>16)+(E>>>16)+((u=(65535&w)+(65535&E)+((a=(T>>>16)+(b>>>16)+((s=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(F=a<<16|65535&s)<<4)^(F>>>2|Y<<30)^(F>>>7|Y<<25),r=(F>>>28|Y<<4)^(Y>>>2|F<<30)^(Y>>>7|F<<25),i=(Q>>>14|ee<<18)^(Q>>>18|ee<<14)^(ee>>>9|Q<<23),o=(ee>>>14|Q<<18)^(ee>>>18|Q<<14)^(Q>>>9|ee<<23),g=(y=Y&q)^Y&J^_,I=(v=F&X)^F&W^p,N=Q&te^~Q&re,m=ee&ne^~ee&ie,E=R[t+6],b=R[t+7],E=(l=((w=e.K[t+6])>>>16)+(E>>>16)+(N>>>16)+(i>>>16)+(V>>>16)+((u=(65535&w)+(65535&E)+(65535&N)+(65535&i)+(65535&V)+((a=((T=e.K[t+7])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+($>>>16)+((s=(65535&T)+(65535&b)+(65535&m)+(65535&o)+(65535&$))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(g>>>16)+(n>>>16)+((u=(65535&g)+(65535&n)+((a=(I>>>16)+(r>>>16)+((s=(65535&I)+(65535&r))>>>16))>>>16))>>>16))<<16|65535&u,T=a<<16|65535&s,V=(l=(j>>>16)+(E>>>16)+((u=(65535&j)+(65535&E)+((a=(Z>>>16)+(b>>>16)+((s=(65535&Z)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,$=a<<16|65535&s,j=(l=(w>>>16)+(E>>>16)+((u=(65535&w)+(65535&E)+((a=(T>>>16)+(b>>>16)+((s=(65535&T)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,Z=a<<16|65535&s;l=(S>>>16)+(j>>>16)+((u=(65535&S)+(65535&j)+((a=(A>>>16)+(Z>>>16)+((s=(65535&A)+(65535&Z))>>>16))>>>16))>>>16),this._h0h=l<<16|65535&u,this._h0l=a<<16|65535&s,l=(O>>>16)+(Y>>>16)+((u=(65535&O)+(65535&Y)+((a=(U>>>16)+(F>>>16)+((s=(65535&U)+(65535&F))>>>16))>>>16))>>>16),this._h1h=l<<16|65535&u,this._h1l=a<<16|65535&s,l=(x>>>16)+(q>>>16)+((u=(65535&x)+(65535&q)+((a=(M>>>16)+(X>>>16)+((s=(65535&M)+(65535&X))>>>16))>>>16))>>>16),this._h2h=l<<16|65535&u,this._h2l=a<<16|65535&s,l=(L>>>16)+(J>>>16)+((u=(65535&L)+(65535&J)+((a=(P>>>16)+(W>>>16)+((s=(65535&P)+(65535&W))>>>16))>>>16))>>>16),this._h3h=l<<16|65535&u,this._h3l=a<<16|65535&s,l=(k>>>16)+(V>>>16)+((u=(65535&k)+(65535&V)+((a=(G>>>16)+($>>>16)+((s=(65535&G)+(65535&$))>>>16))>>>16))>>>16),this._h4h=l<<16|65535&u,this._h4l=a<<16|65535&s,l=(H>>>16)+(Q>>>16)+((u=(65535&H)+(65535&Q)+((a=(B>>>16)+(ee>>>16)+((s=(65535&B)+(65535&ee))>>>16))>>>16))>>>16),this._h5h=l<<16|65535&u,this._h5l=a<<16|65535&s,l=(C>>>16)+(te>>>16)+((u=(65535&C)+(65535&te)+((a=(z>>>16)+(ne>>>16)+((s=(65535&z)+(65535&ne))>>>16))>>>16))>>>16),this._h6h=l<<16|65535&u,this._h6l=a<<16|65535&s,l=(D>>>16)+(re>>>16)+((u=(65535&D)+(65535&re)+((a=(K>>>16)+(ie>>>16)+((s=(65535&K)+(65535&ie))>>>16))>>>16))>>>16),this._h7h=l<<16|65535&u,this._h7l=a<<16|65535&s},e.EXTRA=[-2147483648,8388608,32768,128],e.SHIFT=[24,16,8,0],e.K=Uint32Array.from([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),e}();t.Sha512=n})),B=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HmacSha512=void 0;var n=function(){function e(e,t){void 0===t&&(t=512),this._bits=t,this._sha512=new H.Sha512(t),e.length>128&&(e=new H.Sha512(t).digest()),this._oKeyPad=new Uint8Array(128);for(var n=new Uint8Array(128),r=0;r<128;++r){var i=e[r]||0;this._oKeyPad[r]=92^i,n[r]=54^i}this._sha512.update(n)}return e.prototype.update=function(e){return this._sha512.update(e),this},e.prototype.digest=function(){var e=this._sha512.digest(),t=new H.Sha512(this._bits);return t.update(this._oKeyPad),t.update(e),t.digest()},e}();t.HmacSha512=n})),C=a((function(e,t){var n=o&&o.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Slip0010=void 0;var a=s(i.default),u=function(){function e(){}return e.getMasterKeyFromSeed=function(e){var t=new B.HmacSha512(G.Converter.asciiToBytes("ed25519 seed")).update(e).digest();return{privateKey:Uint8Array.from(t.slice(0,32)),chainCode:Uint8Array.from(t.slice(32))}},e.derivePath=function(t,n){for(var r=e.getMasterKeyFromSeed(t),i=r.privateKey,o=r.chainCode,s=n.numberSegments(),a=0;a<s.length;a++){var u=2147483648+s[a],l=new Uint8Array(1+i.length+4);l[0]=0,l.set(i,1),l[i.length+1]=u>>>24,l[i.length+2]=u>>>16,l[i.length+3]=u>>>8,l[i.length+4]=255&u;var h=new B.HmacSha512(o).update(l).digest();i=Uint8Array.from(h.slice(0,32)),o=Uint8Array.from(h.slice(32))}return{privateKey:i,chainCode:o}},e.getPublicKey=function(e,t){void 0===t&&(t=!0);var n=a.sign.keyPair.fromSeed(e).secretKey.slice(32);if(t){var r=new Uint8Array(1+n.length);return r[0]=0,r.set(n,1),r}return n},e}();t.Slip0010=u})),z=a((function(e,t){var n=o&&o.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25519Seed=void 0;var a=s(i.default),u=function(){function e(){this._secretKey=new Uint8Array}return e.fromBytes=function(t){var n=new e;return n._secretKey=t,n},e.random=function(){return e.fromBytes(a.randomBytes(e.SEED_SIZE_BYTES))},e.prototype.keyPair=function(){var e=a.sign.keyPair.fromSeed(this._secretKey);return{publicKey:e.publicKey,privateKey:e.secretKey}},e.prototype.generateSeedFromPath=function(t){var n=C.Slip0010.derivePath(this._secretKey,t);return e.fromBytes(n.privateKey)},e.prototype.toBytes=function(){return this._secretKey},e.SEED_SIZE_BYTES=32,e}();t.Ed25519Seed=u})),D=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha3=void 0;var n=function(){function e(e,t,n){this._padding=t,this._outputBits=n,this._blockCount=1600-(e<<1)>>5,this._byteCount=this._blockCount<<2,this._outputBlocks=n>>5,this._extraBytes=(31&n)>>3,this._reset=!0,this._block=0,this._start=0,this._blocks=new Uint32Array(this._blockCount+1),this._state=new Uint32Array(50),this._lastByteIndex=0}return e.sha3=function(t){return new e(t,e.SHA3_PADDING,t)},e.keccak=function(t){return new e(t,e.KECCAK_PADDING,t)},e.prototype.reset=function(){this._reset=!0,this._block=0,this._start=0,this._blocks=new Uint32Array(this._blockCount+1),this._state=new Uint32Array(50),this._lastByteIndex=0},e.prototype.update=function(t){for(var n,r=new Uint8Array(t),i=r.length,o=0;o<i;){if(this._reset)for(this._reset=!1,this._blocks[0]=this._block,n=1;n<this._blockCount+1;++n)this._blocks[n]=0;for(n=this._start;o<i&&n<this._byteCount;++o)this._blocks[n>>2]|=r[o]<<e.SHIFT[3&n++];if(this._lastByteIndex=n,n>=this._byteCount){for(this._start=n-this._byteCount,this._block=this._blocks[this._blockCount],n=0;n<this._blockCount;++n)this._state[n]^=this._blocks[n];this.keccakPermutation(this._state),this._reset=!0}else this._start=n}return this},e.prototype.digest=function(){this.finalize();for(var e=0,t=0,n=this._outputBits>>3,r=new ArrayBuffer(this._extraBytes?this._outputBlocks+1<<2:n),i=new Uint32Array(r);t<this._outputBlocks;)for(e=0;e<this._blockCount&&t<this._outputBlocks;++e,++t)i[t]=this._state[e];return this._extraBytes&&(i[e]=this._state[e],r=r.slice(0,n)),this.reset(),new Uint8Array(r)},e.prototype.finalize=function(){var e=this._lastByteIndex;if(this._blocks[e>>2]|=this._padding[3&e],this._lastByteIndex===this._byteCount)for(this._blocks[0]=this._blocks[this._blockCount],e=1;e<this._blockCount+1;++e)this._blocks[e]=0;for(this._blocks[this._blockCount-1]|=2147483648,e=0;e<this._blockCount;++e)this._state[e]^=this._blocks[e];this.keccakPermutation(this._state)},e.prototype.keccakPermutation=function(t){var n,r,i,o=new Uint32Array(50),s=new Uint32Array(10);for(i=0;i<48;i+=2)s[0]=t[0]^t[10]^t[20]^t[30]^t[40],s[1]=t[1]^t[11]^t[21]^t[31]^t[41],s[2]=t[2]^t[12]^t[22]^t[32]^t[42],s[3]=t[3]^t[13]^t[23]^t[33]^t[43],s[4]=t[4]^t[14]^t[24]^t[34]^t[44],s[5]=t[5]^t[15]^t[25]^t[35]^t[45],s[6]=t[6]^t[16]^t[26]^t[36]^t[46],s[7]=t[7]^t[17]^t[27]^t[37]^t[47],s[8]=t[8]^t[18]^t[28]^t[38]^t[48],s[9]=t[9]^t[19]^t[29]^t[39]^t[49],n=s[8]^(s[2]<<1|s[3]>>>31),r=s[9]^(s[3]<<1|s[2]>>>31),t[0]^=n,t[1]^=r,t[10]^=n,t[11]^=r,t[20]^=n,t[21]^=r,t[30]^=n,t[31]^=r,t[40]^=n,t[41]^=r,n=s[0]^(s[4]<<1|s[5]>>>31),r=s[1]^(s[5]<<1|s[4]>>>31),t[2]^=n,t[3]^=r,t[12]^=n,t[13]^=r,t[22]^=n,t[23]^=r,t[32]^=n,t[33]^=r,t[42]^=n,t[43]^=r,n=s[2]^(s[6]<<1|s[7]>>>31),r=s[3]^(s[7]<<1|s[6]>>>31),t[4]^=n,t[5]^=r,t[14]^=n,t[15]^=r,t[24]^=n,t[25]^=r,t[34]^=n,t[35]^=r,t[44]^=n,t[45]^=r,n=s[4]^(s[8]<<1|s[9]>>>31),r=s[5]^(s[9]<<1|s[8]>>>31),t[6]^=n,t[7]^=r,t[16]^=n,t[17]^=r,t[26]^=n,t[27]^=r,t[36]^=n,t[37]^=r,t[46]^=n,t[47]^=r,n=s[6]^(s[0]<<1|s[1]>>>31),r=s[7]^(s[1]<<1|s[0]>>>31),t[8]^=n,t[9]^=r,t[18]^=n,t[19]^=r,t[28]^=n,t[29]^=r,t[38]^=n,t[39]^=r,t[48]^=n,t[49]^=r,o[0]=t[0],o[1]=t[1],o[32]=t[11]<<4|t[10]>>>28,o[33]=t[10]<<4|t[11]>>>28,o[14]=t[20]<<3|t[21]>>>29,o[15]=t[21]<<3|t[20]>>>29,o[46]=t[31]<<9|t[30]>>>23,o[47]=t[30]<<9|t[31]>>>23,o[28]=t[40]<<18|t[41]>>>14,o[29]=t[41]<<18|t[40]>>>14,o[20]=t[2]<<1|t[3]>>>31,o[21]=t[3]<<1|t[2]>>>31,o[2]=t[13]<<12|t[12]>>>20,o[3]=t[12]<<12|t[13]>>>20,o[34]=t[22]<<10|t[23]>>>22,o[35]=t[23]<<10|t[22]>>>22,o[16]=t[33]<<13|t[32]>>>19,o[17]=t[32]<<13|t[33]>>>19,o[48]=t[42]<<2|t[43]>>>30,o[49]=t[43]<<2|t[42]>>>30,o[40]=t[5]<<30|t[4]>>>2,o[41]=t[4]<<30|t[5]>>>2,o[22]=t[14]<<6|t[15]>>>26,o[23]=t[15]<<6|t[14]>>>26,o[4]=t[25]<<11|t[24]>>>21,o[5]=t[24]<<11|t[25]>>>21,o[36]=t[34]<<15|t[35]>>>17,o[37]=t[35]<<15|t[34]>>>17,o[18]=t[45]<<29|t[44]>>>3,o[19]=t[44]<<29|t[45]>>>3,o[10]=t[6]<<28|t[7]>>>4,o[11]=t[7]<<28|t[6]>>>4,o[42]=t[17]<<23|t[16]>>>9,o[43]=t[16]<<23|t[17]>>>9,o[24]=t[26]<<25|t[27]>>>7,o[25]=t[27]<<25|t[26]>>>7,o[6]=t[36]<<21|t[37]>>>11,o[7]=t[37]<<21|t[36]>>>11,o[38]=t[47]<<24|t[46]>>>8,o[39]=t[46]<<24|t[47]>>>8,o[30]=t[8]<<27|t[9]>>>5,o[31]=t[9]<<27|t[8]>>>5,o[12]=t[18]<<20|t[19]>>>12,o[13]=t[19]<<20|t[18]>>>12,o[44]=t[29]<<7|t[28]>>>25,o[45]=t[28]<<7|t[29]>>>25,o[26]=t[38]<<8|t[39]>>>24,o[27]=t[39]<<8|t[38]>>>24,o[8]=t[48]<<14|t[49]>>>18,o[9]=t[49]<<14|t[48]>>>18,t[0]=o[0]^~o[2]&o[4],t[1]=o[1]^~o[3]&o[5],t[10]=o[10]^~o[12]&o[14],t[11]=o[11]^~o[13]&o[15],t[20]=o[20]^~o[22]&o[24],t[21]=o[21]^~o[23]&o[25],t[30]=o[30]^~o[32]&o[34],t[31]=o[31]^~o[33]&o[35],t[40]=o[40]^~o[42]&o[44],t[41]=o[41]^~o[43]&o[45],t[2]=o[2]^~o[4]&o[6],t[3]=o[3]^~o[5]&o[7],t[12]=o[12]^~o[14]&o[16],t[13]=o[13]^~o[15]&o[17],t[22]=o[22]^~o[24]&o[26],t[23]=o[23]^~o[25]&o[27],t[32]=o[32]^~o[34]&o[36],t[33]=o[33]^~o[35]&o[37],t[42]=o[42]^~o[44]&o[46],t[43]=o[43]^~o[45]&o[47],t[4]=o[4]^~o[6]&o[8],t[5]=o[5]^~o[7]&o[9],t[14]=o[14]^~o[16]&o[18],t[15]=o[15]^~o[17]&o[19],t[24]=o[24]^~o[26]&o[28],t[25]=o[25]^~o[27]&o[29],t[34]=o[34]^~o[36]&o[38],t[35]=o[35]^~o[37]&o[39],t[44]=o[44]^~o[46]&o[48],t[45]=o[45]^~o[47]&o[49],t[6]=o[6]^~o[8]&o[0],t[7]=o[7]^~o[9]&o[1],t[16]=o[16]^~o[18]&o[10],t[17]=o[17]^~o[19]&o[11],t[26]=o[26]^~o[28]&o[20],t[27]=o[27]^~o[29]&o[21],t[36]=o[36]^~o[38]&o[30],t[37]=o[37]^~o[39]&o[31],t[46]=o[46]^~o[48]&o[40],t[47]=o[47]^~o[49]&o[41],t[8]=o[8]^~o[0]&o[2],t[9]=o[9]^~o[1]&o[3],t[18]=o[18]^~o[10]&o[12],t[19]=o[19]^~o[11]&o[13],t[28]=o[28]^~o[20]&o[22],t[29]=o[29]^~o[21]&o[23],t[38]=o[38]^~o[30]&o[32],t[39]=o[39]^~o[31]&o[33],t[48]=o[48]^~o[40]&o[42],t[49]=o[49]^~o[41]&o[43],t[0]^=e.ROUND_CONSTANTS[i],t[1]^=e.ROUND_CONSTANTS[i+1]},e.KECCAK_PADDING=new Uint32Array([1,256,65536,16777216]),e.SHA3_PADDING=new Uint32Array([6,1536,393216,100663296]),e.SHIFT=new Uint8Array([0,8,16,24]),e.ROUND_CONSTANTS=new Uint32Array([1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648]),e}();t.Sha3=n})),K=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHUNK_SIZE=void 0,t.DEFAULT_CHUNK_SIZE=20})),R=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getAddressesKeyPairs=void 0,t.getAddressesKeyPairs=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=K.DEFAULT_CHUNK_SIZE);for(var i=[],o=n;o<n+r;o++){t.push(o);var s=e.generateSeedFromPath(t);i.push(s.keyPair()),t.pop()}return i}})),j=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getAddresses=void 0,t.getAddresses=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=K.DEFAULT_CHUNK_SIZE),R.getAddressesKeyPairs(e,t,n,r).map((function(e){return G.Converter.bytesToHex(T.Ed25519.publicKeyToAddress(e.publicKey))}))}})),Z=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUnspentAddresses=void 0,t.getUnspentAddresses=function(e,t,i,o,s){return n(this,void 0,void 0,(function(){var n,a,u,l,h,c,d;return r(this,(function(r){switch(r.label){case 0:n=null!=o?o:0,a=null!=s?s:Number.MAX_SAFE_INTEGER,u=!1,l=[],r.label=1;case 1:return i.push(n),h=t.generateSeedFromPath(i).keyPair(),i.pop(),c=G.Converter.bytesToHex(T.Ed25519.publicKeyToAddress(h.publicKey)),[4,e.address(c)];case 2:0===(d=r.sent()).count?u=!0:(l.push({address:c,index:n,balance:d.balance}),l.length===a&&(u=!0)),n++,r.label=3;case 3:if(!u)return[3,1];r.label=4;case 4:return[2,l]}}))}))}})),Y=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getBalance=void 0,t.getBalance=function(e,t,i,o){return void 0===o&&(o=0),n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,Z.getUnspentAddresses(e,t,i,o)];case 1:return[2,n.sent().reduce((function(e,t){return e+t.balance}),0)]}}))}))}})),F=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUnspentAddress=void 0,t.getUnspentAddress=function(e,t,i,o){return n(this,void 0,void 0,(function(){var n;return r(this,(function(r){switch(r.label){case 0:return[4,Z.getUnspentAddresses(e,t,i,o,1)];case 1:return[2,(n=r.sent()).length>0?n[0]:void 0]}}))}))}})),q=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveData=void 0,t.retrieveData=function(e,t){return n(this,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,e.message(t)];case 1:return(null==(n=r.sent())?void 0:n.payload)&&(i=void 0,0===n.payload.type?i=n.payload.essence.payload:2===n.payload.type&&(i=n.payload),i)?[2,{index:i.index,data:G.Converter.hexToBytes(i.data)}]:[2]}}))}))}})),X=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WriteStream=void 0;var n=function(){function e(){this._storage=new Uint8Array(e.CHUNK_SIZE),this._writeIndex=0}return e.prototype.length=function(){return this._storage.length},e.prototype.unused=function(){return this._storage.length-this._writeIndex},e.prototype.finalBytes=function(){return this._storage.subarray(0,this._writeIndex)},e.prototype.finalHex=function(){return G.Converter.bytesToHex(this._storage.subarray(0,this._writeIndex))},e.prototype.getWriteIndex=function(){return this._writeIndex},e.prototype.setWriteIndex=function(e){this._writeIndex=e},e.prototype.writeFixedHex=function(e,t,n){if(!N.isHex(n))throw new Error("The "+n+" should be in hex format");if(2*t!==n.length)throw new Error(e+" length "+n.length+" does not match expected length "+2*t);this.expand(t),this._storage.set(G.Converter.hexToBytes(n),this._writeIndex),this._writeIndex+=t},e.prototype.writeBytes=function(e,t,n){this.expand(t),this._storage.set(n,this._writeIndex),this._writeIndex+=t},e.prototype.writeByte=function(e,t){this.expand(1),this._storage[this._writeIndex++]=255&t},e.prototype.writeUInt16=function(e,t){this.expand(2),this._storage[this._writeIndex++]=255&t,this._storage[this._writeIndex++]=t>>>8},e.prototype.writeUInt32=function(e,t){this.expand(4),this._storage[this._writeIndex++]=255&t,this._storage[this._writeIndex++]=t>>>8,this._storage[this._writeIndex++]=t>>>16,this._storage[this._writeIndex++]=t>>>24},e.prototype.writeUInt64=function(e,t){this.expand(8);var n=t.toString(16).padStart(16,"0"),r=G.Converter.hexToBytes(n,!0);this._storage.set(r,this._writeIndex),this._writeIndex+=8},e.prototype.writeString=function(e,t){return this.writeUInt16(e,t.length),this.expand(t.length),this._storage.set(G.Converter.asciiToBytes(t),this._writeIndex),this._writeIndex+=t.length,t},e.prototype.expand=function(t){if(this._writeIndex+t>this._storage.byteLength){var n=new Uint8Array(this._storage.length+e.CHUNK_SIZE);n.set(this._storage,0),this._storage=n}},e.CHUNK_SIZE=4096,e}();t.WriteStream=n})),J=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendAdvanced=void 0,t.sendAdvanced=function(e,t,i,o,s,a,u){return n(this,void 0,void 0,(function(){var n,l,h,c,d,f,_,p,y,v,g,I,E,b,w,N,m,U,x,M,L,P,k,H,B,C,z,D,K,R,j,Z;return r(this,(function(r){switch(r.label){case 0:if(!o||0===o.length)throw new Error("You must specify some outputs");n=o.reduce((function(e,t){return e+t.amount}),0),l=null!=s?s:0,h=0,c=[],d=!1,r.label=1;case 1:return i.push(l),f=t.generateSeedFromPath(i).keyPair(),i.pop(),_=G.Converter.bytesToHex(T.Ed25519.publicKeyToAddress(f.publicKey)),[4,e.addressOutputs(_)];case 2:p=r.sent(),y=0,v=p.outputIds,r.label=3;case 3:return y<v.length?(g=v[y],[4,e.output(g)]):[3,6];case 4:!(I=r.sent()).isSpent&&0!==I.output.amount&&h<n&&(h+=I.output.amount,D={type:0,transactionId:I.transactionId,transactionOutputIndex:I.outputIndex},U=new X.WriteStream,S.serializeInput(U,D),c.push({input:D,addressKeyPair:f,serialized:U.finalHex()}),h>=n&&(h-n>0&&o.push({amount:h-n,address:_}),d=!0)),r.label=5;case 5:return y++,[3,3];case 6:l++,r.label=7;case 7:if(!d)return[3,1];r.label=8;case 8:if(h<n)throw new Error("There are not enough funds in the inputs for the required balance");for(E=[],b=0,w=o;b<w.length;b++)N=w[b],m={type:0,address:{type:1,address:N.address},amount:N.amount},U=new X.WriteStream,A.serializeOutput(U,m),E.push({output:m,serialized:U.finalHex()});for(x=c.sort((function(e,t){return e.serialized.localeCompare(t.serialized)})),M=E.sort((function(e,t){return e.serialized.localeCompare(t.serialized)})),L={type:0,inputs:x.map((function(e){return e.input})),outputs:M.map((function(e){return e.output})),payload:a&&u?{type:2,index:a,data:G.Converter.bytesToHex(u)}:void 0},P=new X.WriteStream,O.serializeTransactionEssence(P,L),k=P.finalBytes(),H=[],B={},C=0,z=x;C<z.length;C++)D=z[C],K=G.Converter.bytesToHex(D.addressKeyPair.publicKey),B[K]?H.push({type:1,reference:B[K].unlockIndex}):(H.push({type:0,signature:{type:1,publicKey:K,signature:G.Converter.bytesToHex(T.Ed25519.signData(D.addressKeyPair.privateKey,k))}}),B[K]={keyPair:D.addressKeyPair,unlockIndex:H.length-1});return R={type:0,essence:L,unlockBlocks:H},[4,e.tips()];case 9:return j=r.sent(),Z={version:1,parent1MessageId:j.tip1MessageId,parent2MessageId:j.tip2MessageId,payload:R,nonce:0},[4,e.messageSubmit(Z)];case 10:return[2,{messageId:r.sent(),message:Z}]}}))}))}})),W=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.send=void 0,t.send=function(e,t,i,o,s,a){return n(this,void 0,void 0,(function(){var n;return r(this,(function(r){switch(r.label){case 0:return[4,J.sendAdvanced(e,t,i,[{address:o,amount:s}],a)];case 1:return[2,{messageId:(n=r.sent()).messageId,message:n.message}]}}))}))}})),V=a((function(e,t){var n=o&&o.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=o&&o.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendData=void 0,t.sendData=function(e,t,i){return n(this,void 0,void 0,(function(){var n,o,s,a;return r(this,(function(r){switch(r.label){case 0:return n={type:2,index:t,data:G.Converter.bytesToHex(i)},[4,e.tips()];case 1:return o=r.sent(),s={version:1,parent1MessageId:o.tip1MessageId,parent2MessageId:o.tip2MessageId,payload:n,nonce:0},[4,e.messageSubmit(s)];case 2:return a=r.sent(),[2,{message:s,messageId:a}]}}))}))}})),$=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Q=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ee=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),te=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ne=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),re=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ie=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),oe=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),se=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ae=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ue=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),le=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),he=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ce=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),de=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.logUnlockBlock=t.logOutput=t.logInput=t.logSignature=t.logAddress=t.logPayload=t.logMessage=t.setLogger=void 0;var n=function(e,t){return void 0!==t?console.log(e,t):console.log(e)};function r(e,t){if(t)if(0===t.type){var i=t;if(n(e+"Transaction Payload"),0===i.essence.type){if(i.essence.inputs){n(e+"\tInputs:",i.essence.inputs.length);for(var o=0,l=i.essence.inputs;o<l.length;o++){s(e+"\t\t",l[o])}}if(i.essence.outputs){n(e+"\tOutputs:",i.essence.outputs.length);for(var h=0,c=i.essence.outputs;h<c.length;h++){a(e+"\t\t",c[h])}}r(e+"\t",i.essence.payload)}if(i.unlockBlocks){n(e+"\tUnlock Blocks:",i.unlockBlocks.length);for(var d=0,f=i.unlockBlocks;d<f.length;d++){u(e+"\t\t",f[d])}}}else if(1===t.type){i=t;n(e+"Milestone Payload"),n(e+"\tIndex:",i.index),n(e+"\tTimestamp:",i.timestamp),n(e+"\tInclusion Merkle Proof:",i.inclusionMerkleProof),n(e+"\tSignatures:",i.signatures)}else if(2===t.type){i=t;n(e+"Indexation Payload"),n(e+"\tIndex:",i.index),n(e+"\tData:",G.Converter.hexToAscii(i.data))}}function i(e,t){if(t&&1===t.type){var r=t;n(e+"Ed25519 Address"),n(e+"\tAddress:",r.address)}}function o(e,t){if(t&&1===t.type){var r=t;n(e+"Ed25519 Signature"),n(e+"\tPublic Key:",r.publicKey),n(e+"\tSignature:",r.signature)}}function s(e,t){if(t&&0===t.type){var r=t;n(e+"UTXO Input"),n(e+"\tTransaction Id:",r.transactionId),n(e+"\tTransaction Output Index:",r.transactionOutputIndex)}}function a(e,t){if(t&&0===t.type){var r=t;n(e+"Signature Locked Single Output"),i(e+"\t\t",r.address),n(e+"\t\tAmount:",r.amount)}}function u(e,t){if(t)if(0===t.type){var r=t;n(e+"\tSignature Unlock Block"),o(e+"\t\t\t",r.signature)}else if(1===t.type){r=t;n(e+"\tReference Unlock Block"),n(e+"\t\tReference:",r.reference)}}t.setLogger=function(e){n=e},t.logMessage=function(e,t){n(e+"\tVersion:",t.version),n(e+"\tParent 1 Message Id:",t.parent1MessageId),n(e+"\tParent 2 Message Id:",t.parent2MessageId),r(e+"\t",t.payload),void 0!==t.nonce&&n(e+"\tNonce:",t.nonce)},t.logPayload=r,t.logAddress=i,t.logSignature=o,t.logInput=s,t.logOutput=a,t.logUnlockBlock=u})),fe=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStream=void 0;var n=function(){function e(e,t){void 0===t&&(t=0),this._storage=new Uint8Array(e),this._readIndex=t}return e.prototype.length=function(){return this._storage.byteLength},e.prototype.hasRemaining=function(e){return this._readIndex+e<=this._storage.byteLength},e.prototype.unused=function(){return this._storage.byteLength-this._readIndex},e.prototype.readFixedHex=function(e,t,n){if(void 0===n&&(n=!0),!this.hasRemaining(t))throw new Error(e+" length "+t+" exceeds the remaining data "+this.unused());var r=G.Converter.bytesToHex(this._storage,this._readIndex,t);return n&&(this._readIndex+=t),r},e.prototype.readBytes=function(e,t,n){if(void 0===n&&(n=!0),!this.hasRemaining(t))throw new Error(e+" length "+t+" exceeds the remaining data "+this.unused());var r=this._storage.slice(this._readIndex,this._readIndex+t);return n&&(this._readIndex+=t),r},e.prototype.readByte=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(1))throw new Error(e+" length 1 exceeds the remaining data "+this.unused());var n=this._storage[this._readIndex];return t&&(this._readIndex+=1),n},e.prototype.readUInt16=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(2))throw new Error(e+" length 2 exceeds the remaining data "+this.unused());var n=this._storage[this._readIndex]|this._storage[this._readIndex+1]<<8;return t&&(this._readIndex+=2),n},e.prototype.readUInt32=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(4))throw new Error(e+" length 4 exceeds the remaining data "+this.unused());var n=this._storage[this._readIndex]|256*this._storage[this._readIndex+1]|65536*this._storage[this._readIndex+2]+16777216*this._storage[this._readIndex+3];return t&&(this._readIndex+=4),n},e.prototype.readUInt64=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(8))throw new Error(e+" length 8 exceeds the remaining data "+this.unused());var n=BigInt("0x"+G.Converter.bytesToHex(this._storage,this._readIndex,8,!0));return t&&(this._readIndex+=8),n},e.prototype.readString=function(e,t){void 0===t&&(t=!0);var n=this.readUInt16(e);if(!this.hasRemaining(n))throw new Error(e+" length "+n+" exceeds the remaining data "+this.unused());var r=G.Converter.bytesToAscii(this._storage,this._readIndex,n);return t&&(this._readIndex+=n),r},e}();t.ReadStream=n})),_e=a((function(e,t){var n=o&&o.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=o&&o.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(u,t),r(l,t),r(h,t),r(c,t),r(d,t),r(f,t),r(_,t),r(p,t),r(y,t),r(v,t),r(g,t),r(I,t),r(E,t),r(m,t),r(N,t),r(S,t),r(L,t),r(A,t),r(M,t),r(U,t),r(O,t),r(x,t),r(P,t),r(k,t),r(w,t),r(T,t),r(z,t),r(B,t),r(D,t),r(H,t),r(C,t),r(K,t),r(j,t),r(R,t),r(Y,t),r(F,t),r(Z,t),r(q,t),r(W,t),r(J,t),r(V,t),r($,t),r(Q,t),r(ee,t),r(te,t),r(ne,t),r(re,t),r(ie,t),r(oe,t),r(se,t),r(ae,t),r(ue,t),r(le,t),r(he,t),r(ce,t),r(G,t),r(de,t),r(fe,t),r(X,t)}));return s(a((function(e,t){var n=o&&o.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=o&&o.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r.default);globalThis.fetch||(globalThis.fetch=a.default),i(_e,t)})))}));